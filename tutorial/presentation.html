<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.553">

  <title>ANNarchy 4.7.3 - ANNarchy</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/tuc-new-large.png" data-background-opacity="1" data-background-position="top" data-background-size="30%" class="quarto-title-block center">
  <h1 class="title">ANNarchy</h1>
  <p class="subtitle">Artificial Neural Networks architect</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<a href="https://julien-vitay.net">Julien Vitay</a> <a href="https://orcid.org/0000-0001-5229-2349" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a>
</div>
<div class="quarto-title-author-email">
<a href="mailto:julien.vitay@informatik.tu-chemnitz.de">julien.vitay@informatik.tu-chemnitz.de</a>
</div>
        <p class="quarto-title-affiliation">
            <a href="https://tu-chemnitz.de">
            Chemnitz University of Technology
            </a>
          </p>
    </div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<a href="https://www.tu-chemnitz.de/informatik/KI">Helge Ülo Dinkelbach</a> <a href="https://orcid.org/0000-0002-8871-8177" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a>
</div>
<div class="quarto-title-author-email">
<a href="mailto:helge-uelo.dinkelbach@informatik.tu-chemnitz.de">helge-uelo.dinkelbach@informatik.tu-chemnitz.de</a>
</div>
        <p class="quarto-title-affiliation">
            <a href="https://tu-chemnitz.de">
            Chemnitz University of Technology
            </a>
          </p>
    </div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<a href="https://www.tu-chemnitz.de/informatik/KI">Fred Hamker</a> <a href="https://orcid.org/0000-0001-9104-7143" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a>
</div>
<div class="quarto-title-author-email">
<a href="mailto:fred.hamker@informatik.tu-chemnitz.de">fred.hamker@informatik.tu-chemnitz.de</a>
</div>
        <p class="quarto-title-affiliation">
            <a href="https://tu-chemnitz.de">
            Chemnitz University of Technology
            </a>
          </p>
    </div>
</div>

</section>
<section id="outline" class="title-slide slide level1 center">
<h1>Outline</h1>
<ol type="1">
<li><p>Neurocomputational models</p></li>
<li><p>Neuro-simulator ANNarchy</p></li>
<li><p>Rate-coded networks</p></li>
<li><p>Spiking networks</p></li>
</ol>
</section>

<section id="neurocomputational-models" class="title-slide slide level1 center">
<h1>1 - Neurocomputational models</h1>

</section>

<section id="computational-neuroscience" class="title-slide slide level1 center">
<h1>Computational neuroscience</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Computational neuroscience is about explaining brain functioning at various levels (neural activity patterns, behavior, etc.) using biologically realistic neuro-computational models.</p></li>
<li><p>Different types of neural and synaptic mathematical models are used in the field, abstracting biological complexity at different levels.</p></li>
<li><p>There is no “right” level of biological plausibility for a model - you can always add more details -, but you have to find a paradigm that allows you to:</p></li>
</ul>
<ol type="1">
<li>Explain the current experimental data.</li>
<li>Make predictions that can be useful to experimentalists.</li>
</ol>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/neurocomp.png"></p>
<figcaption>Source: <span class="citation" data-cites="Kriegeskorte2018a">Kriegeskorte and Douglas (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2018</a>)</span></figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="rate-coded-and-spiking-neurons" class="title-slide slide level1 center">
<h1>Rate-coded and spiking neurons</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><strong>Rate-coded</strong> neurons only represent the instantaneous firing rate of a neuron:</li>
</ul>
<p><span class="math display">
    \tau \, \frac{d v(t)}{dt} + v(t) = \sum_{i=1}^d w_{i, j} \, r_i(t) + b
</span></p>
<p><span class="math display">
    r(t) = f(v(t))
</span></p>
<p><img data-src="img/ratecoded-simple.png" style="width:80.0%"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><strong>Spiking</strong> neurons emit binary spikes when their membrane potential exceeds a threshold (leaky integrate-and-fire, LIF):</li>
</ul>
<p><span class="math display">
    C \, \frac{d v(t)}{dt} = - g_L \, (v(t) - V_L) + I(t)
</span></p>
<p><span class="math display">
    \text{if} \; v(t) &gt; V_T \; \text{emit a spike and reset.}
</span></p>
<p><img data-src="img/LIF-threshold.png"></p>
</div>
</div>
</section>

<section id="many-different-spiking-neuron-models-are-possible" class="title-slide slide level1 center">
<h1>Many different spiking neuron models are possible</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Izhikevich quadratic IF <span class="citation" data-cites="Izhikevich2003">(<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">Izhikevich, 2003</a>)</span>.</li>
</ul>
<p><span class="math display">\begin{cases}
    \displaystyle\frac{dv}{dt} = 0.04 \, v^2 + 5 \, v + 140 - u + I \\
    \\
    \displaystyle\frac{du}{dt} = a \, (b \, v - u) \\
\end{cases}</span></p>
</div><div class="column" style="width:50%;">
<ul>
<li>Adaptive exponential IF <span class="citation" data-cites="Brette2005">(AdEx, <a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">Brette and Gerstner, 2005</a>)</span>.</li>
</ul>
<p><span class="math display">
\begin{cases}
\begin{aligned}
    C \, \frac{dv}{dt} = -g_L \ (v - E_L) + &amp; g_L \, \Delta_T \, \exp(\frac{v - v_T}{\Delta_T}) \\
                                            &amp; + I - w
\end{aligned}\\
\\
    \tau_w \, \displaystyle\frac{dw}{dt} = a \, (v - E_L) - w\\
\end{cases}</span></p>
</div>
</div>
<p><img data-src="img/LIF-Izhi-AdEx.png"></p>
</section>

<section id="realistic-neuron-models-can-reproduce-a-variety-of-dynamics" class="title-slide slide level1 center">
<h1>Realistic neuron models can reproduce a variety of dynamics</h1>
<ul>
<li><p>Biological neurons do not all respond the same to an input current: Some fire regularly, some slow down with time., some emit bursts of spikes…</p></li>
<li><p>Modern spiking neuron models allow to recreate these dynamics by changing just a few parameters.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/adex.png" class="quarto-figure quarto-figure-center" style="width:60.0%"></p>
</figure>
</div>
</section>

<section id="populations-of-neurons" class="title-slide slide level1 center">
<h1>Populations of neurons</h1>
<ul>
<li>Recurrent neural networks (e.g.&nbsp;randomly connected populations of neurons) can exhibit very rich <strong>dynamics</strong> even in the absence of inputs:</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/rc-network.jpg"></p>
<p><img data-src="img/reservoir-simple.png" style="width:50.0%"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Oscillations at the population level.</p></li>
<li><p>Excitatory/inhibitory balance.</p></li>
<li><p>Spatio-temporal separation of inputs (<strong>reservoir computing</strong>).</p></li>
</ul>
<p><img data-src="img/ratecoded-izhikevich.png" style="width:80.0%"></p>
</div>
</div>
</section>

<section id="synaptic-plasticity-hebbian-learning" class="title-slide slide level1 center">
<h1>Synaptic plasticity: Hebbian learning</h1>
<ul>
<li><strong>Hebbian learning</strong> postulates that synapses strengthen based on the <strong>correlation</strong> between the activity of the pre- and post-synaptic neurons:</li>
</ul>
<blockquote>
<p>When an axon of cell A is near enough to excite a cell B and repeatedly or persistently takes part in firing it, some growth process or metabolic change takes place in one or both cells such that A’s efficiency, as one of the cells firing B, is increased.</p>
<p><strong>Donald Hebb</strong>, 1949</p>
</blockquote>
<ul>
<li>Weights increase proportionally to the the product of the pre- and post-synaptic firing rates:</li>
</ul>
<p><span class="math display">\frac{dw}{dt} = \eta \, r^\text{pre} \, r^\text{post}</span></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/hebb.png" style="width:60.0%"></p>
<figcaption>Source: <a href="https://slideplayer.com/slide/11511675/" class="uri">https://slideplayer.com/slide/11511675/</a></figcaption>
</figure>
</div>
</section>

<section id="synaptic-plasticity-hebbian-based-learning" class="title-slide slide level1 center">
<h1>Synaptic plasticity: Hebbian-based learning</h1>
<ul>
<li>The <strong>BCM</strong> <span class="citation" data-cites="Bienenstock1982 Intrator1992">(<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">Bienenstock et al., 1982</a>; <a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">Intrator and Cooper, 1992</a>)</span> plasticity rule allows LTP and LTD depending on the post-synaptic activity:</li>
</ul>
<p><span class="math display">\frac{dw}{dt} = \eta \, r^\text{pre} \, r^\text{post}  \,  (r^\text{post} - \mathbb{E}[(r^\text{post})^2])</span></p>
<div class="columns">
<div class="column" style="width:70%;">
<ul>
<li><strong>Covariance</strong> learning rule <span class="citation" data-cites="Dayan2001">(<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">Dayan and Abbott, 2001</a>)</span>:</li>
</ul>
<p><span class="math display">\frac{dw}{dt} = \eta \, r^\text{pre} \, (r^\text{post} - \mathbb{E}[r^\text{post}])</span></p>
<ul>
<li><strong>Oja</strong> learning rule <span class="citation" data-cites="Oja1982">(<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">Oja, 1982</a>)</span>:</li>
</ul>
<p><span class="math display">\frac{dw}{dt}= \eta \, r^\text{pre} \, r^\text{post} - \alpha \, (r^\text{post})^2 \, w</span></p>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/bcm.png"></p>
<figcaption>Source: <a href="http://www.scholarpedia.org/article/BCM_theory" class="uri">http://www.scholarpedia.org/article/BCM_theory</a></figcaption>
</figure>
</div>
</div>
</div>
<p>or virtually anything depending only on the pre- and post-synaptic firing rates, e.g. <span class="citation" data-cites="Vitay2010">Vitay and Hamker (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2010</a>)</span>:</p>
<p><span class="math display">\begin{aligned}
    \frac{dw}{dt}  &amp; = \eta \, ( \text{DA}(t) - \overline{\text{DA}}) \, (r^\text{post} - \mathbb{E}[r^\text{post}] )^+  \, (r^\text{pre} - \mathbb{E}[r^\text{pre}])- \alpha(t) \,  ((r^\text{post} - \mathbb{E}[r^\text{post}] )^+ )^2  \, w
\end{aligned}
</span></p>
</section>

<section id="stdp-spike-timing-dependent-plasticity" class="title-slide slide level1 center">
<h1>STDP: Spike-timing dependent plasticity</h1>
<ul>
<li><p>Synaptic efficiencies actually evolve depending on the the <strong>causation</strong> between the neuron’s firing patterns:</p>
<ul>
<li><p>If the pre-synaptic neuron fires <strong>before</strong> the post-synaptic one, the weight is increased (<strong>long-term potentiation</strong>). Pre causes Post to fire.</p></li>
<li><p>If it fires <strong>after</strong>, the weight is decreased (<strong>long-term depression</strong>). Pre does not cause Post to fire.</p></li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/stdp.jpg" class="quarto-figure quarto-figure-center" style="width:70.0%"></p>
</figure>
</div>
<div class="footer">
<p><span class="citation" data-cites="Bi2001">Bi and Poo (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2001</a>)</span> Synaptic Modification by Correlated Activity: Hebb’s Postulate Revisited. Annual Review of Neuroscience 24.</p>
</div>
</section>

<section id="stdp-spike-timing-dependent-plasticity-1" class="title-slide slide level1 center">
<h1>STDP: Spike-timing dependent plasticity</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>The STDP <span class="citation" data-cites="Bi2001">(spike-timing dependent plasticity, <a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">Bi and Poo, 2001</a>)</span> plasticity rule describes how the weight of a synapse evolves when the pre-synaptic neuron fires at <span class="math inline">t_\text{pre}</span> and the post-synaptic one fires at <span class="math inline">t_\text{post}</span>.</li>
</ul>
<p><span class="math display"> \frac{dw}{dt} = \begin{cases} A^+ \, \exp - \frac{t_\text{pre} - t_\text{post}}{\tau^+} \; \text{if} \; t_\text{post} &gt; t_\text{pre}\\  
    \\
    A^- \, \exp - \frac{t_\text{pre} - t_\text{post}}{\tau^-} \; \text{if} \; t_\text{pre} &gt; t_\text{post}\\ \end{cases}
</span></p>
<ul>
<li><p>STDP can be implemented online using traces.</p></li>
<li><p>More complex variants of STDP (triplet STDP) exist, but this is the main model of synaptic plasticity in spiking networks.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="img/stdp2.png"></p>
</div>
</div>
<div class="footer">
<p><span class="citation" data-cites="Bi2001">Bi and Poo (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2001</a>)</span> Synaptic Modification by Correlated Activity: Hebb’s Postulate Revisited. Annual Review of Neuroscience 24.</p>
</div>
</section>

<section id="neuro-computational-modeling" class="title-slide slide level1 center">
<h1>Neuro-computational modeling</h1>
<ul>
<li><p>Populations of neurons can be combined in functional <strong>neuro-computational models</strong> learning to solve various tasks.</p></li>
<li><p>Need to implement one (or more) equations per neuron and synapse. There can thousands of neurons and millions of synapses, see <span class="citation" data-cites="Teichmann2021">Teichmann et al. (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2021</a>)</span>.</p></li>
</ul>
<div class="columns">
<div class="column" style="width:33%;">
<p><strong>Basal Ganglia</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/BG.png"></p>
<figcaption>Source: <span class="citation" data-cites="Villagrasa2018">Villagrasa et al. (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2018</a>)</span></figcaption>
</figure>
</div>
</div><div class="column" style="width:33%;">
<p><strong>Hippocampus</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Hippocampus.png"></p>
<figcaption>Source: <span class="citation" data-cites="Goenner2017">Gönner et al. (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2017</a>)</span></figcaption>
</figure>
</div>
</div><div class="column" style="width:33%;">
<p><strong>Dopaminergic system</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Dopamine.png"></p>
<figcaption>Source: <span class="citation" data-cites="Vitay2014">Vitay and Hamker (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2014</a>)</span></figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="neuro-simulator-annarchy" class="title-slide slide level1 center">
<h1>2 - Neuro-simulator ANNarchy</h1>

</section>

<section id="neuro-simulators" class="title-slide slide level1 center">
<h1>Neuro-simulators</h1>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Fixed libraries of models</strong></p>
<ul>
<li><p><strong>NEURON</strong><br>
<a href="https://neuron.yale.edu/neuron/" class="uri">https://neuron.yale.edu/neuron/</a></p>
<ul>
<li>Multi-compartmental models, spiking neurons (CPU)</li>
</ul></li>
</ul>
<!-- * **GENESIS** <http://genesis-sim.org/>

    * Multi-compartmental models, spiking neurons (CPU) -->
<ul>
<li><p><strong>NEST</strong><br>
<a href="https://nest-initiative.org/" class="uri">https://nest-initiative.org/</a></p>
<ul>
<li>Spiking neurons (CPU)</li>
</ul></li>
<li><p><strong>GeNN</strong><br>
<a href="https://genn-team.github.io/genn/" class="uri">https://genn-team.github.io/genn/</a></p>
<ul>
<li>Spiking neurons (GPU)</li>
</ul></li>
<li><p><strong>Auryn</strong><br>
<a href="https://fzenke.net/auryn/doku.php" class="uri">https://fzenke.net/auryn/doku.php</a></p>
<ul>
<li>Spiking neurons (CPU)</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Code generation</strong></p>
<ul>
<li><p><strong>Brian</strong><br>
<a href="https://briansimulator.org/" class="uri">https://briansimulator.org/</a></p>
<ul>
<li>Spiking neurons (CPU)</li>
</ul></li>
<li><p><strong>Brian2CUDA</strong><br>
<a href="https://github.com/brian-team/brian2cuda" class="uri">https://github.com/brian-team/brian2cuda</a></p>
<ul>
<li>Spiking neurons (GPU)</li>
</ul></li>
<li><p><strong>ANNarchy</strong><br>
<a href="https://github.com/ANNarchy/ANNarchy" class="uri">https://github.com/ANNarchy/ANNarchy</a></p>
<ul>
<li>Rate-coded and spiking neurons (CPU, GPU)</li>
</ul></li>
</ul>
</div>
</div>
</section>

<section id="annarchy-artificial-neural-networks-architect" class="title-slide slide level1 center">
<h1>ANNarchy (Artificial Neural Networks architect)</h1>
<p><br></p>
<p><span class="citation" data-cites="Vitay2015">Vitay et al. (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2015</a>)</span><br>
<strong>ANNarchy: a code generation approach to neural simulations on parallel hardware.</strong><br>
<em>Frontiers in Neuroinformatics</em> 9. <a href="https://doi.org/10.3389/fninf.2015.00019">doi:10.3389/fninf.2015.00019</a></p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/drawing.svg"></p>
</div><div class="column" style="width:50%;">
<ul>
<li>Source code:</li>
</ul>
<p><a href="https://github.com/ANNarchy/ANNarchy" class="uri">https://github.com/ANNarchy/ANNarchy</a></p>
<ul>
<li>Documentation:</li>
</ul>
<p><a href="https://annarchy.github.io" class="uri">https://annarchy.github.io</a></p>
<ul>
<li>Forum:</li>
</ul>
<p><a href="https://groups.google.com/forum/#!forum/annarchy" class="uri">https://groups.google.com/forum/#!forum/annarchy</a></p>
</div>
</div>
</section>

<section id="installation" class="title-slide slide level1 center">
<h1>Installation</h1>
<p>Installation guide: <a href="https://annarchy.github.io/Installation/" class="uri">https://annarchy.github.io/Installation/</a></p>
<p>Using pip:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install ANNarchy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>From source:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/ANNarchy/ANNarchy.git</span>
<span id="cb7-2"><a aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> annarchy</span>
<span id="cb7-3"><a aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">-e</span> .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Requirements (Linux and MacOS):</p>
<ul>
<li>g++/clang++</li>
<li>python &gt;= 3.6</li>
<li>numpy</li>
<li>sympy</li>
<li>cython</li>
</ul>
</section>

<section>
<section id="features" class="title-slide slide level1 center">
<h1>Features</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Simulation of both <strong>rate-coded</strong> and <strong>spiking</strong> neural networks.</p></li>
<li><p>Only local biologically realistic mechanisms are possible (no backpropagation).</p></li>
<li><p><strong>Equation-oriented</strong> description of neural/synaptic dynamics (à la Brian).</p></li>
<li><p><strong>Code generation</strong> in C++, parallelized using OpenMP on CPU and CUDA on GPU (MPI is coming).</p></li>
<li><p>Synaptic, intrinsic and structural plasticity mechanisms.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="img/drawing.svg" style="width:100.0%"></p>
</div>
</div>
</section>
<section class="slide level2">

<p><img data-src="img/drawing.svg" style="width:100.0%"></p>
</section></section>
<section id="structure-of-a-script" class="title-slide slide level1 center">
<h1>Structure of a script</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ANNarchy <span class="im">as</span> ann</span>
<span id="cb8-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Create neuron types</span></span>
<span id="cb8-4"><a aria-hidden="true" tabindex="-1"></a>neuron <span class="op">=</span> ann.Neuron(...) </span>
<span id="cb8-5"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Create synapse types for transmission and/or plasticity</span></span>
<span id="cb8-7"><a aria-hidden="true" tabindex="-1"></a>stdp <span class="op">=</span> ann.Synapse(...) </span>
<span id="cb8-8"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Create populations of neurons</span></span>
<span id="cb8-10"><a aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> ann.Population(<span class="dv">1000</span>, neuron) </span>
<span id="cb8-11"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Connect the populations through projections</span></span>
<span id="cb8-13"><a aria-hidden="true" tabindex="-1"></a>proj <span class="op">=</span> ann.Projection(pop, pop, <span class="st">'exc'</span>, stdp) </span>
<span id="cb8-14"><a aria-hidden="true" tabindex="-1"></a>proj.connect_fixed_probability(weights<span class="op">=</span>ann.Uniform(<span class="fl">0.0</span>, <span class="fl">1.0</span>), probability<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb8-15"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Generate and compile the code</span></span>
<span id="cb8-17"><a aria-hidden="true" tabindex="-1"></a>ann.<span class="bu">compile</span>() </span>
<span id="cb8-18"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Record spiking activity</span></span>
<span id="cb8-20"><a aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> ann.Monitor(pop, [<span class="st">'spike'</span>]) </span>
<span id="cb8-21"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Simulate for 1 second</span></span>
<span id="cb8-23"><a aria-hidden="true" tabindex="-1"></a>ann.simulate(<span class="fl">1000.</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="rate-coded-networks" class="title-slide slide level1 center">
<h1>3 - Rate-coded networks</h1>

</section>

<section id="echo-state-network" class="title-slide slide level1 center">
<h1>Echo-State Network</h1>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/rc.jpg"></p>
</div><div class="column" style="width:60%;">
<ul>
<li>ESN rate-coded neurons follow first-order ODEs:</li>
</ul>
<p><span class="math display">
    \tau \frac{dx(t)}{dt} + x(t) = \sum w^\text{in} \, r^\text{in}(t) + g \, \sum w^\text{rec} \, r(t) + \xi(t)
</span></p>
<p><span class="math display">
    r(t) = \tanh(x(t))
</span></p>
</div>
</div>
<ul>
<li>Neural dynamics are described by the equation-oriented interface:</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ANNarchy <span class="im">as</span> ann</span>
<span id="cb9-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a aria-hidden="true" tabindex="-1"></a>ESN_Neuron <span class="op">=</span> ann.Neuron(</span>
<span id="cb9-4"><a aria-hidden="true" tabindex="-1"></a>    parameters <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb9-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau = 30.0   : population   # Time constant</span></span>
<span id="cb9-6"><a aria-hidden="true" tabindex="-1"></a><span class="st">        g = 1.0      : population   # Scaling</span></span>
<span id="cb9-7"><a aria-hidden="true" tabindex="-1"></a><span class="st">        noise = 0.01 : population   # Noise level</span></span>
<span id="cb9-8"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb9-9"><a aria-hidden="true" tabindex="-1"></a>    equations<span class="op">=</span><span class="st">"""</span></span>
<span id="cb9-10"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau * dx/dt + x = sum(in) + g * sum(exc) + noise * Uniform(-1, 1)  : init=0.0</span></span>
<span id="cb9-11"><a aria-hidden="true" tabindex="-1"></a><span class="st"> </span></span>
<span id="cb9-12"><a aria-hidden="true" tabindex="-1"></a><span class="st">        r = tanh(x)</span></span>
<span id="cb9-13"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span></span>
<span id="cb9-14"><a aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="parameters" class="title-slide slide level1 center">
<h1>Parameters</h1>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a aria-hidden="true" tabindex="-1"></a>    parameters <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb10-2"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau = 30.0   : population   # Time constant</span></span>
<span id="cb10-3"><a aria-hidden="true" tabindex="-1"></a><span class="st">        g = 1.0      : population   # Scaling</span></span>
<span id="cb10-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">        noise = 0.01 : population   # Noise level</span></span>
<span id="cb10-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>All parameters used in the equations must be declared in the <strong>Neuron</strong> definition.</p></li>
<li><p>Parameters can have one value per neuron in the population (default) or be common to all neurons (flag <code>population</code> or <code>projection</code>).</p></li>
<li><p>Parameters and variables are double floats by default, but the type can be specified (<code>int</code>, <code>bool</code>).</p></li>
</ul>
</section>

<section id="variables" class="title-slide slide level1 center">
<h1>Variables</h1>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a aria-hidden="true" tabindex="-1"></a>    equations<span class="op">=</span><span class="st">"""</span></span>
<span id="cb11-2"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau * dx/dt + x = sum(in) + g * sum(exc) + noise * Uniform(-1, 1) : init=0.0</span></span>
<span id="cb11-3"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">        r = tanh(x)</span></span>
<span id="cb11-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Variables are evaluated at each time step <em>in the order of their declaration</em>, except for coupled ODEs.</p></li>
<li><p>The output variable of a rate-coded neuron must be named <code>r</code>.</p></li>
<li><p>Variables can be updated with assignments (<code>=</code>, <code>+=</code>, etc) or by defining first order ODEs.</p></li>
<li><p>The math C library symbols can be used (<code>tanh</code>, <code>cos</code>, <code>exp</code>, etc).</p></li>
<li><p>Initial values at the start of the simulation can be specified with <code>init</code> (default: 0.0).</p></li>
<li><p>Lower/higher bounds on the values of the variables can be set with the <code>min</code>/<code>max</code> flags:</p></li>
</ul>
<pre><code>r = x : min=0.0 # ReLU</code></pre>
<ul>
<li>Additive noise can be drawn from several distributions, including <code>Uniform</code>, <code>Normal</code>, <code>LogNormal</code>, <code>Exponential</code>, <code>Gamma</code>…</li>
</ul>
</section>

<section id="odes" class="title-slide slide level1 center">
<h1>ODEs</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>First-order ODEs are parsed and manipulated using <code>sympy</code>:</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a aria-hidden="true" tabindex="-1"></a>    <span class="co"># All equivalent:</span></span>
<span id="cb13-2"><a aria-hidden="true" tabindex="-1"></a>    tau <span class="op">*</span> dx<span class="op">/</span>dt <span class="op">+</span> x <span class="op">=</span> I</span>
<span id="cb13-3"><a aria-hidden="true" tabindex="-1"></a>    tau <span class="op">*</span> dx<span class="op">/</span>dt <span class="op">=</span> I <span class="op">-</span> x</span>
<span id="cb13-4"><a aria-hidden="true" tabindex="-1"></a>    dx<span class="op">/</span>dt <span class="op">=</span> (I <span class="op">-</span> x)<span class="op">/</span>tau</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The generated C++ code applies a numerical method (fixed step size <code>dt</code>) for all neurons:</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb14-1"><a aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma omp simd</span></span>
<span id="cb14-2"><a aria-hidden="true" tabindex="-1"></a><span class="cf">for</span><span class="op">(</span><span class="dt">unsigned</span> <span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> size<span class="op">;</span> i<span class="op">++){</span></span>
<span id="cb14-3"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> _x <span class="op">=</span> <span class="op">(</span>I<span class="op">[</span>i<span class="op">]</span> <span class="op">-</span> x<span class="op">[</span>i<span class="op">])/</span>tau<span class="op">;</span></span>
<span id="cb14-4"><a aria-hidden="true" tabindex="-1"></a>    x<span class="op">[</span>i<span class="op">]</span> <span class="op">+=</span> dt<span class="op">*</span>_x <span class="op">;</span></span>
<span id="cb14-5"><a aria-hidden="true" tabindex="-1"></a>    r<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> tanh<span class="op">(</span>x<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb14-6"><a aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Several numerical methods are available:</p>
<ul>
<li>Explicit (forward) Euler (default):</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a aria-hidden="true" tabindex="-1"></a>tau <span class="op">*</span> dx<span class="op">/</span>dt <span class="op">+</span> x <span class="op">=</span> I : explicit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Implicit (backward) Euler:</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a aria-hidden="true" tabindex="-1"></a>tau <span class="op">*</span> dx<span class="op">/</span>dt <span class="op">+</span> x <span class="op">=</span> I : implicit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Exponential Euler (exact for linear ODE):</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a aria-hidden="true" tabindex="-1"></a>tau <span class="op">*</span> dx<span class="op">/</span>dt <span class="op">+</span> x <span class="op">=</span> I : exponential</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Midpoint (RK2):</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a aria-hidden="true" tabindex="-1"></a>tau <span class="op">*</span> dx<span class="op">/</span>dt <span class="op">+</span> x <span class="op">=</span> I : midpoint</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Runge-Kutta (RK4):</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a aria-hidden="true" tabindex="-1"></a>tau <span class="op">*</span> dx<span class="op">/</span>dt <span class="op">+</span> x <span class="op">=</span> I : rk4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Event-driven (spiking synapses):</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a aria-hidden="true" tabindex="-1"></a>tau <span class="op">*</span> dx<span class="op">/</span>dt <span class="op">+</span> x <span class="op">=</span> I : event<span class="op">-</span>driven</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</div>
</div>
<div class="footer">
<p><a href="https://annarchy.github.io/manual/NumericalMethods" class="uri">https://annarchy.github.io/manual/NumericalMethods</a></p>
</div>
</section>

<section id="populations" class="title-slide slide level1 center">
<h1>Populations</h1>
<ul>
<li>Populations are creating by specifying a number of neurons and a neuron type:</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> ann.Population(<span class="dv">1000</span>, ESN_Neuron)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>For visualization purposes or when using convolutional layers, a tuple geometry can be passed instead of the size:</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> ann.Population((<span class="dv">100</span>, <span class="dv">100</span>), ESN_Neuron)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>All parameters and variables become attributes of the population (read and write) as numpy arrays:</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a aria-hidden="true" tabindex="-1"></a>pop.tau <span class="op">=</span> np.linspace(<span class="fl">20.0</span>, <span class="fl">40.0</span>, <span class="dv">1000</span>)</span>
<span id="cb23-2"><a aria-hidden="true" tabindex="-1"></a>pop.r <span class="op">=</span> np.tanh(pop.v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Slices of populations are called <code>PopulationView</code> and can be addressed separately:</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> ann.Population(<span class="dv">1000</span>, ESN_Neuron)</span>
<span id="cb24-2"><a aria-hidden="true" tabindex="-1"></a>E <span class="op">=</span> pop[:<span class="dv">800</span>]</span>
<span id="cb24-3"><a aria-hidden="true" tabindex="-1"></a>I <span class="op">=</span> pop[<span class="dv">800</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="projections" class="title-slide slide level1 center">
<h1>Projections</h1>
<ul>
<li>Projections connect two populations (or views) in a uni-directional way.</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a aria-hidden="true" tabindex="-1"></a>proj_exc <span class="op">=</span> ann.Projection(E, pop, <span class="st">'exc'</span>)</span>
<span id="cb25-2"><a aria-hidden="true" tabindex="-1"></a>proj_inh <span class="op">=</span> ann.Projection(I, pop, <span class="st">'inh'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Each target (<code>'exc', 'inh', 'AMPA', 'NMDA', 'GABA'</code>) can be defined as needed and will be treated differently by the post-synaptic neurons.</p></li>
<li><p>The weighted sum of inputs for a specific target is accessed in the equations by <code>sum(target)</code>:</p></li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a aria-hidden="true" tabindex="-1"></a>equations<span class="op">=</span><span class="st">"""</span></span>
<span id="cb26-2"><a aria-hidden="true" tabindex="-1"></a><span class="st">    tau * dx/dt + x = sum(exc) - sum(inh)</span></span>
<span id="cb26-3"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">    r = tanh(x)</span></span>
<span id="cb26-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>It is therefore possible to model modulatory effects, divisive inhibition, etc.</li>
</ul>
</section>

<section id="connection-methods" class="title-slide slide level1 center">
<h1>Connection methods</h1>
<ul>
<li><p>Projections must be populated with a connectivity matrix (who is connected to who), a weight <code>w</code> and optionally a delay <code>d</code> (uniform or variable).</p></li>
<li><p>Several patterns are predefined:</p></li>
</ul>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a aria-hidden="true" tabindex="-1"></a>proj.connect_all_to_all(weights<span class="op">=</span>Normal(<span class="fl">0.0</span>, <span class="fl">1.0</span>), delays<span class="op">=</span><span class="fl">2.0</span>, allow_self_connections<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb27-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a aria-hidden="true" tabindex="-1"></a>proj.connect_one_to_one(weights<span class="op">=</span><span class="fl">1.0</span>, delays<span class="op">=</span>Uniform(<span class="fl">1.0</span>, <span class="fl">10.0</span>))</span>
<span id="cb27-4"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a aria-hidden="true" tabindex="-1"></a>proj.connect_fixed_number_pre(number<span class="op">=</span><span class="dv">20</span>, weights<span class="op">=</span><span class="fl">1.0</span>)</span>
<span id="cb27-6"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a aria-hidden="true" tabindex="-1"></a>proj.connect_fixed_number_post(number<span class="op">=</span><span class="dv">20</span>, weights<span class="op">=</span><span class="fl">1.0</span>)</span>
<span id="cb27-8"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a aria-hidden="true" tabindex="-1"></a>proj.connect_fixed_probability(probability<span class="op">=</span><span class="fl">0.2</span>, weights<span class="op">=</span><span class="fl">1.0</span>)</span>
<span id="cb27-10"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a aria-hidden="true" tabindex="-1"></a>proj.connect_gaussian(amp<span class="op">=</span><span class="fl">1.0</span>, sigma<span class="op">=</span><span class="fl">0.2</span>, limit<span class="op">=</span><span class="fl">0.001</span>)</span>
<span id="cb27-12"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a aria-hidden="true" tabindex="-1"></a>proj.connect_dog(amp_pos<span class="op">=</span><span class="fl">1.0</span>, sigma_pos<span class="op">=</span><span class="fl">0.2</span>, amp_neg<span class="op">=</span><span class="fl">0.3</span>, sigma_neg<span class="op">=</span><span class="fl">0.7</span>, limit<span class="op">=</span><span class="fl">0.001</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>But you can also load Numpy arrays or Scipy sparse matrices. Example for synfire chains:</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> np.array([[<span class="va">None</span>]<span class="op">*</span>pre.size]<span class="op">*</span>post.size)</span>
<span id="cb28-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(post.size):</span>
<span id="cb28-4"><a aria-hidden="true" tabindex="-1"></a>    w[i, (i<span class="op">-</span><span class="dv">1</span>)<span class="op">%</span>pre.size] <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb28-5"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a aria-hidden="true" tabindex="-1"></a>proj.connect_from_matrix(w)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> lil_matrix((pre.size, post.size))</span>
<span id="cb29-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(pre.size):</span>
<span id="cb29-4"><a aria-hidden="true" tabindex="-1"></a>    w[pre.size, (i<span class="op">+</span><span class="dv">1</span>)<span class="op">%</span>post.size] <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb29-5"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a aria-hidden="true" tabindex="-1"></a>proj.connect_from_sparse(w)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>

<section id="compiling-and-running-the-simulation" class="title-slide slide level1 center">
<h1>Compiling and running the simulation</h1>
<ul>
<li>Once all populations and projections are created, you have to generate to the C++ code and compile it:</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a aria-hidden="true" tabindex="-1"></a>ann.<span class="bu">compile</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>You can now manipulate all parameters/variables from Python thanks to the Cython bindings.</p></li>
<li><p>A simulation is simply run for a fixed duration in milliseconds with:</p></li>
</ul>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a aria-hidden="true" tabindex="-1"></a>ann.simulate(<span class="fl">1000.</span>) <span class="co"># 1 second</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>You can also run a simulation until a criteria is filled (e.g.&nbsp;first-spike), see:</li>
</ul>
<p><a href="https://annarchy.github.io/manual/Simulation.html#early-stopping" class="uri">https://annarchy.github.io/manual/Simulation.html#early-stopping</a></p>
</section>

<section id="monitoring" class="title-slide slide level1 center">
<h1>Monitoring</h1>
<ul>
<li><p>By default, a simulation is run in C++ without interaction with Python.</p></li>
<li><p>You may want to record some variables (neural or synaptic) during the simulation with a <code>Monitor</code>:</p></li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> ann.Monitor(pop, [<span class="st">'v'</span>, <span class="st">'r'</span>])</span>
<span id="cb32-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> ann.Monitor(proj, [<span class="st">'w'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>After the simulation, you can retrieve the recordings with:</li>
</ul>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a aria-hidden="true" tabindex="-1"></a>recorded_v <span class="op">=</span> m.get(<span class="st">'v'</span>)</span>
<span id="cb33-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a aria-hidden="true" tabindex="-1"></a>recorded_r <span class="op">=</span> m.get(<span class="st">'r'</span>)</span>
<span id="cb33-4"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a aria-hidden="true" tabindex="-1"></a>recorded_w <span class="op">=</span> n.get(<span class="st">'w'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-warning no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>Calling <code>get()</code> flushes the underlying arrays.</p>
</div>
</div>
</div>
<div class="callout callout-warning no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>Recording projections can quickly fill up the RAM…</p>
</div>
</div>
</div>
</section>

<section id="notebook-echo-state-network" class="title-slide slide level1 center">
<h1>Notebook: Echo-State Network</h1>
<p><a href="https://raw.githubusercontent.com/ANNarchy/ANNarchy.github.io/master/notebooks/RC.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Download-Notebook-orange?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a> <a href="https://colab.research.google.com/github/ANNarchy/ANNarchy.github.io/master/notebooks/RC.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Open_in-Colab-blue?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a></p>
<p><span class="math display">
    \tau \frac{dx(t)}{dt} + x(t) = \sum_\text{input} W^\text{IN} \, r^\text{IN}(t) + g \,  \sum_\text{rec} W^\text{REC} \, r(t) + \xi(t)
</span></p>
<p><span class="math display">
    r(t) = \tanh(x(t))
</span></p>
<div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/rc.jpg" class="quarto-figure quarto-figure-center" style="width:60.0%"></p>
</figure>
</div>
</div>
<div class="footer">
<p><span class="citation" data-cites="Jaeger2001">Jaeger (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2001</a>)</span> The “echo state” approach to analysing and training recurrent neural networks. Jacobs Universität Bremen.</p>
</div>
</section>

<section id="plasticity-in-rate-coded-networks" class="title-slide slide level1 center">
<h1>Plasticity in rate-coded networks</h1>
<ul>
<li><p>Synapses can also implement plasticity rules that will be evaluated after each neural update.</p></li>
<li><p>Example of the Intrator &amp; Cooper BCM learning rule:</p></li>
</ul>
<p><span class="math display">\Delta w = \eta \, r^\text{pre} \, r^\text{post}  \,  (r^\text{post} - \mathbb{E}[(r^\text{post})^2])</span></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a aria-hidden="true" tabindex="-1"></a>IBCM <span class="op">=</span> ann.Synapse(</span>
<span id="cb34-2"><a aria-hidden="true" tabindex="-1"></a>    parameters <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb34-3"><a aria-hidden="true" tabindex="-1"></a><span class="st">        eta = 0.01 : projection</span></span>
<span id="cb34-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau = 2000.0 : projection</span></span>
<span id="cb34-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb34-6"><a aria-hidden="true" tabindex="-1"></a>    equations <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb34-7"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau * dtheta/dt + theta = post.r^2 : postsynaptic, exponential</span></span>
<span id="cb34-8"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a aria-hidden="true" tabindex="-1"></a><span class="st">        dw/dt = eta * post.r * (post.r - theta) * pre.r : min=0.0, explicit</span></span>
<span id="cb34-10"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb34-11"><a aria-hidden="true" tabindex="-1"></a>    psp <span class="op">=</span> <span class="st">"w * pre.r"</span></span>
<span id="cb34-12"><a aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Each synapse can access pre- and post-synaptic variables with <code>pre.</code> and <code>post.</code>.</p></li>
<li><p>The <code>postsynaptic</code> flag allows to do computations only once per post-synaptic neurons.</p></li>
<li><p><code>psp</code> optionally defines what will be summed by the post-synaptic neuron (e.g.&nbsp;<code>psp = "w * log(pre.r)"</code>).</p></li>
</ul>
</section>

<section id="plastic-projections" class="title-slide slide level1 center">
<h1>Plastic projections</h1>
<ul>
<li>The synapse type just has to be passed to the Projection:</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a aria-hidden="true" tabindex="-1"></a>proj <span class="op">=</span> Projection(inp, pop, <span class="st">'exc'</span>, synapse<span class="op">=</span>IBCM)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Synaptic variables can be accessed as lists of lists for the whole projection:</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a aria-hidden="true" tabindex="-1"></a>proj.w</span>
<span id="cb36-2"><a aria-hidden="true" tabindex="-1"></a>proj.theta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or for a single post-synaptic neuron:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a aria-hidden="true" tabindex="-1"></a>proj[<span class="dv">10</span>].w</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="notebook-ibcm-learning-rule" class="title-slide slide level1 center">
<h1>Notebook: IBCM learning rule</h1>
<p><a href="https://raw.githubusercontent.com/ANNarchy/ANNarchy.github.io/master/notebooks/BCM.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Download-Notebook-orange?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a> <a href="https://colab.research.google.com/github/ANNarchy/ANNarchy.github.io/master/notebooks/BCM.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Open_in-Colab-blue?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a></p>
<div class="columns">
<div class="column">
<ul>
<li><p>Variant of the BCM (<strong>B</strong>ienenstock, <strong>C</strong>ooper, <strong>M</strong>unro, 1982) learning rule.</p></li>
<li><p>The LTP and LTD depend on post-synaptic activity: homeostasis.</p></li>
</ul>
<p><span class="math display">\Delta w = \eta \, r^\text{pre} \, r^\text{post}  \,  (r^\text{post} - \mathbb{E}[(r^\text{post})^2])</span></p>
<ul>
<li>See <a href="http://www.scholarpedia.org/article/BCM_theory" class="uri">http://www.scholarpedia.org/article/BCM_theory</a></li>
</ul>
</div><div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/bcm.png"></p>
<figcaption>Source: <a href="http://www.scholarpedia.org/article/BCM_theory" class="uri">http://www.scholarpedia.org/article/BCM_theory</a></figcaption>
</figure>
</div>
</div>
</div>
<div class="footer">
<p><span class="citation" data-cites="Intrator1992">Intrator and Cooper (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">1992</a>)</span> Objective function formulation of the BCM theory of visual cortical plasticity: Statistical connections, stability conditions. Neural Networks, 5(1).</p>
</div>
</section>

<section id="notebook-reward-modulated-rc-network-of-miconi-2017" class="title-slide slide level1 center">
<h1>Notebook: Reward-modulated RC network of Miconi (2017)</h1>
<p><a href="https://raw.githubusercontent.com/ANNarchy/ANNarchy.github.io/master/notebooks/Miconi.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Download-Notebook-orange?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a> <a href="https://colab.research.google.com/github/ANNarchy/ANNarchy.github.io/master/notebooks/Miconi.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Open_in-Colab-blue?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a></p>
<p><span class="math display">
    e_{i, j}(t) = e_{i, j}(t-1) + (r_i (t) \, x_j(t))^3
</span></p>
<p><span class="math display">
    \Delta w_{i, j} = - \eta \,  e_{i, j}(T) \, (R -R_\text{mean})
</span></p>
<div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/miconi.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
<div class="footer">
<p><span class="citation" data-cites="Miconi2017">Miconi (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2017</a>)</span> Biologically plausible learning in recurrent neural networks reproduces neural dynamics observed during cognitive tasks. eLife. doi:10.7554/eLife.20899</p>
</div>
</section>

<section id="spiking-networks" class="title-slide slide level1 center">
<h1>4 - Spiking networks</h1>

</section>

<section id="spiking-neurons" class="title-slide slide level1 center">
<h1>Spiking neurons</h1>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><p>Spiking neurons must also define two additional fields:</p>
<ul>
<li><p><code>spike</code>: condition for emitting a spike.</p></li>
<li><p><code>reset</code>: what happens after a spike is emitted (at the start of the refractory period).</p></li>
</ul></li>
<li><p>A refractory period in ms can also be specified.</p></li>
</ul>
<p><img data-src="img/LIF-threshold.png" style="width:100.0%"></p>
</div><div class="column" style="width:55%;">
<ul>
<li>Example of the Leaky Integrate-and-Fire:</li>
</ul>
<p><span class="math display">
    C \, \frac{d v(t)}{dt} = - g_L \, (v(t) - V_L) + I(t)
</span></p>
<p><span class="math display">
    \text{if} \; v(t) &gt; V_T \; \text{emit a spike and reset.}
</span></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a aria-hidden="true" tabindex="-1"></a>LIF <span class="op">=</span> ann.Neuron(</span>
<span id="cb38-2"><a aria-hidden="true" tabindex="-1"></a>    parameters <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb38-3"><a aria-hidden="true" tabindex="-1"></a><span class="st">        C = 200.</span></span>
<span id="cb38-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">        g_L = 10.</span></span>
<span id="cb38-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">        E_L = -70.</span></span>
<span id="cb38-6"><a aria-hidden="true" tabindex="-1"></a><span class="st">        v_T = 0.</span></span>
<span id="cb38-7"><a aria-hidden="true" tabindex="-1"></a><span class="st">        v_r = -58.</span></span>
<span id="cb38-8"><a aria-hidden="true" tabindex="-1"></a><span class="st">        I = 0.25</span></span>
<span id="cb38-9"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb38-10"><a aria-hidden="true" tabindex="-1"></a>    equations <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb38-11"><a aria-hidden="true" tabindex="-1"></a><span class="st">        C * dv/dt = g_L * (E_L - v) + I : init=E_L     </span></span>
<span id="cb38-12"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb38-13"><a aria-hidden="true" tabindex="-1"></a>    spike <span class="op">=</span> <span class="st">"v &gt;= v_T"</span>,</span>
<span id="cb38-14"><a aria-hidden="true" tabindex="-1"></a>    reset <span class="op">=</span> <span class="st">"v = v_r"</span>,</span>
<span id="cb38-15"><a aria-hidden="true" tabindex="-1"></a>    refractory <span class="op">=</span> <span class="fl">2.0</span></span>
<span id="cb38-16"><a aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>

<section id="notebook-adex-neuron---adaptive-exponential-integrate-and-fire" class="title-slide slide level1 center">
<h1>Notebook: AdEx neuron - Adaptive exponential Integrate-and-fire</h1>
<p><a href="https://raw.githubusercontent.com/ANNarchy/ANNarchy.github.io/master/notebooks/AdEx.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Download-Notebook-orange?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a> <a href="https://colab.research.google.com/github/ANNarchy/ANNarchy.github.io/master/notebooks/AdEx.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Open_in-Colab-blue?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a></p>
<p><span class="math display">\tau \cdot \frac{dv (t)}{dt} = E_l - v(t) + g_\text{exc} (t) \, (E_\text{exc} - v(t)) + g_\text{inh} (t) \, (E_\text{inh} - v(t)) + I(t)</span></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/adex.png" class="quarto-figure quarto-figure-center" style="width:50.0%"></p>
</figure>
</div>
<div class="footer">
<p><span class="citation" data-cites="Brette2005">Brette and Gerstner (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2005</a>)</span> Adaptive Exponential Integrate-and-Fire Model as an Effective Description of Neuronal Activity. Journal of Neurophysiology 94.</p>
</div>
</section>

<section id="conductances-currents" class="title-slide slide level1 center">
<h1>Conductances / currents</h1>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li>A pre-synaptic spike arriving to a spiking neuron increases the conductance/current <code>g_target</code> (e.g.&nbsp;<code>g_exc</code> or <code>g_inh</code>, depending on the projection).</li>
</ul>
<div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a aria-hidden="true" tabindex="-1"></a>LIF <span class="op">=</span> Neuron(</span>
<span id="cb39-2"><a aria-hidden="true" tabindex="-1"></a>    parameters <span class="op">=</span> <span class="st">"..."</span>,</span>
<span id="cb39-3"><a aria-hidden="true" tabindex="-1"></a>    equations <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb39-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">        C*dv/dt = g_L*(E_L - v) + g_exc : init=E_L    </span></span>
<span id="cb39-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb39-6"><a aria-hidden="true" tabindex="-1"></a>    spike <span class="op">=</span> <span class="st">"v &gt;= v_T"</span>,</span>
<span id="cb39-7"><a aria-hidden="true" tabindex="-1"></a>    reset <span class="op">=</span> <span class="st">"v = v_r"</span>,</span>
<span id="cb39-8"><a aria-hidden="true" tabindex="-1"></a>    refractory <span class="op">=</span> <span class="fl">2.0</span></span>
<span id="cb39-9"><a aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Each spike increments instantaneously <code>g_target</code> from the synaptic efficiency <code>w</code> of the corresponding synapse.</li>
</ul>
<pre><code>g_target += w</code></pre>
</div><div class="column" style="width:40%;">
<p><img data-src="img/synaptictransmission.png"></p>
</div>
</div>
</section>

<section id="conductances-currents-1" class="title-slide slide level1 center">
<h1>Conductances / currents</h1>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><p>For <strong>exponentially-decreasing</strong> or <strong>alpha-shaped</strong> synapses, ODEs have to be introduced for the conductance/current.</p></li>
<li><p>The exponential numerical method should be preferred, as integration is exact.</p></li>
</ul>
<div class="sourceCode" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a aria-hidden="true" tabindex="-1"></a>LIF <span class="op">=</span> ann.Neuron(</span>
<span id="cb41-2"><a aria-hidden="true" tabindex="-1"></a>    parameters <span class="op">=</span> <span class="st">"..."</span>,</span>
<span id="cb41-3"><a aria-hidden="true" tabindex="-1"></a>    equations <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb41-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">        C*dv/dt = g_L*(E_L - v) + g_exc : init=E_L   </span></span>
<span id="cb41-5"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau_exc * dg_exc/dt = - g_exc : exponential</span></span>
<span id="cb41-7"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb41-8"><a aria-hidden="true" tabindex="-1"></a>    spike <span class="op">=</span> <span class="st">"v &gt;= v_T"</span>,</span>
<span id="cb41-9"><a aria-hidden="true" tabindex="-1"></a>    reset <span class="op">=</span> <span class="st">"v = v_r"</span>,</span>
<span id="cb41-10"><a aria-hidden="true" tabindex="-1"></a>    refractory <span class="op">=</span> <span class="fl">2.0</span></span>
<span id="cb41-11"><a aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:40%;">
<p><img data-src="img/synaptictransmission.png"></p>
</div>
</div>
</section>

<section id="notebook-synaptic-transmission" class="title-slide slide level1 center">
<h1>Notebook: Synaptic transmission</h1>
<div class="columns">
<div class="column">
<p><a href="https://raw.githubusercontent.com/ANNarchy/ANNarchy.github.io/master/notebooks/SynapticTransmission.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Download-Notebook-orange?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a> <a href="https://colab.research.google.com/github/ANNarchy/ANNarchy.github.io/master/notebooks/SynapticTransmission.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Open_in-Colab-blue?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Membrane potential</span></span>
<span id="cb42-2"><a aria-hidden="true" tabindex="-1"></a>tau <span class="op">*</span> dv<span class="op">/</span>dt <span class="op">=</span> (E_L <span class="op">-</span> v) <span class="op">+</span> g_a <span class="op">+</span> g_b <span class="op">+</span> alpha_c</span>
<span id="cb42-3"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Exponentially decreasing</span></span>
<span id="cb42-5"><a aria-hidden="true" tabindex="-1"></a>tau_b <span class="op">*</span> dg_b<span class="op">/</span>dt <span class="op">=</span> <span class="op">-</span>g_b</span>
<span id="cb42-6"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Alpha-shaped</span></span>
<span id="cb42-8"><a aria-hidden="true" tabindex="-1"></a>tau_c <span class="op">*</span> dg_c<span class="op">/</span>dt <span class="op">=</span> <span class="op">-</span>g_c</span>
<span id="cb42-9"><a aria-hidden="true" tabindex="-1"></a>tau_c <span class="op">*</span> dh_c<span class="op">/</span>dt <span class="op">=</span> g_c <span class="op">-</span> h_c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<p><img data-src="img/synaptictransmission.png"></p>
</div>
</div>
</section>

<section id="notebook-coba---conductance-based-ei-network" class="title-slide slide level1 center">
<h1>Notebook: COBA - Conductance-based E/I network</h1>
<p><a href="https://raw.githubusercontent.com/ANNarchy/ANNarchy.github.io/master/notebooks/COBA.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Download-Notebook-orange?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a> <a href="https://colab.research.google.com/github/ANNarchy/ANNarchy.github.io/master/notebooks/COBA.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Open_in-Colab-blue?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a></p>
<div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/COBA.png" class="quarto-figure quarto-figure-center" style="width:40.0%"></p>
</figure>
</div>
</div>
<p><span class="math display">\tau \, \frac{dv (t)}{dt} = E_l - v(t) + g_\text{exc} (t) \, (E_\text{exc} - v(t)) + g_\text{inh} (t) \, (E_\text{inh} - v(t)) + I(t)</span></p>
<div class="footer">
<p><span class="citation" data-cites="Vogels2005">Vogels and Abbott (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2005</a>)</span> Signal propagation and logic gating in networks of integrate-and-fire neurons. The Journal of neuroscience 25.</p>
</div>
</section>

<section id="spiking-synapses-short-term-plasticity-stp" class="title-slide slide level1 center">
<h1>Spiking synapses : Short-term plasticity (STP)</h1>
<ul>
<li><p>Spiking synapses can define a <code>pre_spike</code> field, defining what happens when a pre-synaptic spike arrives at the synapse.</p></li>
<li><p><code>g_target</code> is an alias for the corresponding post-synaptic conductance: it will be replaced by <code>g_exc</code> or <code>g_inh</code> depending on how the synapse is used.</p></li>
<li><p>By default, a pre-synaptic spike increments the post-synaptic conductance from <code>w</code>: <code>g_target += w</code></p></li>
</ul>
<div class="sourceCode" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a aria-hidden="true" tabindex="-1"></a>STP <span class="op">=</span> ann.Synapse(</span>
<span id="cb43-2"><a aria-hidden="true" tabindex="-1"></a>    parameters <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb43-3"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau_rec = 100.0 : projection</span></span>
<span id="cb43-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau_facil = 0.01 : projection</span></span>
<span id="cb43-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">        U = 0.5</span></span>
<span id="cb43-6"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb43-7"><a aria-hidden="true" tabindex="-1"></a>    equations <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb43-8"><a aria-hidden="true" tabindex="-1"></a><span class="st">        dx/dt = (1 - x)/tau_rec : init = 1.0, event-driven</span></span>
<span id="cb43-9"><a aria-hidden="true" tabindex="-1"></a><span class="st">        du/dt = (U - u)/tau_facil : init = 0.5, event-driven</span></span>
<span id="cb43-10"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb43-11"><a aria-hidden="true" tabindex="-1"></a>    pre_spike<span class="op">=</span><span class="st">"""</span></span>
<span id="cb43-12"><a aria-hidden="true" tabindex="-1"></a><span class="st">        g_target += w * u * x</span></span>
<span id="cb43-13"><a aria-hidden="true" tabindex="-1"></a><span class="st">        x *= (1 - u)</span></span>
<span id="cb43-14"><a aria-hidden="true" tabindex="-1"></a><span class="st">        u += U * (1 - u)</span></span>
<span id="cb43-15"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span></span>
<span id="cb43-16"><a aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="notebook-stp" class="title-slide slide level1 center">
<h1>Notebook: STP</h1>
<p><a href="https://raw.githubusercontent.com/ANNarchy/ANNarchy.github.io/master/notebooks/STP.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Download-Notebook-orange?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a> <a href="https://colab.research.google.com/github/ANNarchy/ANNarchy.github.io/master/notebooks/STP.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Open_in-Colab-blue?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/stp.png" class="quarto-figure quarto-figure-center" style="width:70.0%"></p>
</figure>
</div>
<div class="footer">
<p><span class="citation" data-cites="Tsodyks1997">Tsodyks and Markram (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">1997</a>)</span> The neural code between neocortical pyramidal neurons depends on neurotransmitter release probability. PNAS 94.</p>
</div>
</section>

<section id="spiking-synapses-example-of-spike-timing-dependent-plasticity-stdp" class="title-slide slide level1 center">
<h1>Spiking synapses : Example of Spike-Timing Dependent plasticity (STDP)</h1>
<ul>
<li><code>post_spike</code> similarly defines what happens when a post-synaptic spike is emitted.</li>
</ul>
<div class="sourceCode" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a aria-hidden="true" tabindex="-1"></a>STDP <span class="op">=</span> ann.Synapse(</span>
<span id="cb44-2"><a aria-hidden="true" tabindex="-1"></a>    parameters <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb44-3"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau_plus = 20.0 : projection ; tau_minus = 20.0 : projection</span></span>
<span id="cb44-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">        A_plus = 0.01 : projection   ; A_minus = 0.01 : projection</span></span>
<span id="cb44-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">        w_min = 0.0 : projection     ; w_max = 1.0 : projection</span></span>
<span id="cb44-6"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb44-7"><a aria-hidden="true" tabindex="-1"></a>    equations <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb44-8"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau_plus  * dx/dt = -x : event-driven # pre-synaptic trace</span></span>
<span id="cb44-9"><a aria-hidden="true" tabindex="-1"></a><span class="st">        tau_minus * dy/dt = -y : event-driven # post-synaptic trace</span></span>
<span id="cb44-10"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb44-11"><a aria-hidden="true" tabindex="-1"></a>    pre_spike<span class="op">=</span><span class="st">"""</span></span>
<span id="cb44-12"><a aria-hidden="true" tabindex="-1"></a><span class="st">        g_target += w</span></span>
<span id="cb44-13"><a aria-hidden="true" tabindex="-1"></a><span class="st">        x += A_plus * w_max</span></span>
<span id="cb44-14"><a aria-hidden="true" tabindex="-1"></a><span class="st">        w = clip(w + y, w_min , w_max)</span></span>
<span id="cb44-15"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb44-16"><a aria-hidden="true" tabindex="-1"></a>    post_spike<span class="op">=</span><span class="st">"""</span></span>
<span id="cb44-17"><a aria-hidden="true" tabindex="-1"></a><span class="st">        y -= A_minus * w_max</span></span>
<span id="cb44-18"><a aria-hidden="true" tabindex="-1"></a><span class="st">        w = clip(w + x, w_min , w_max)</span></span>
<span id="cb44-19"><a aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="notebook-stdp" class="title-slide slide level1 center">
<h1>Notebook: STDP</h1>
<p><a href="https://raw.githubusercontent.com/ANNarchy/ANNarchy.github.io/master/notebooks/STDP1.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Download-Notebook-orange?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a> <a href="https://colab.research.google.com/github/ANNarchy/ANNarchy.github.io/master/notebooks/STDP1.ipynb" target="_blank"><img data-src="https://img.shields.io/badge/Open_in-Colab-blue?style=for-the-badge&amp;logo=Jupyter.png" alt="Download JupyterNotebook"></a></p>
<p><span class="math display">
\begin{cases}
\tau^+ \, \dfrac{d x(t)}{dt} = -x(t) \\
\\
\tau^- \, \dfrac{d y(t)}{dt} = -y(t) \\
\end{cases}
</span></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/stdp3.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/stdp.png"></p>
</div>
</div>
<div class="footer">
<p><span class="citation" data-cites="Bi2001">Bi and Poo (<a href="#/references-scroll-down-for-the-full-list" role="doc-biblioref" onclick="">2001</a>)</span> Synaptic Modification by Correlated Activity: Hebb’s Postulate Revisited. Annual Review of Neuroscience 24.</p>
</div>
</section>

<section id="and-much-more" class="title-slide slide level1 center">
<h1>And much more…</h1>
<ul>
<li><p>Standard populations (<code>SpikeSourceArray</code>, <code>TimedArray</code>, <code>PoissonPopulation</code>, <code>HomogeneousCorrelatedSpikeTrains</code>), OpenCV bindings.</p></li>
<li><p>Standard neurons:</p>
<ul>
<li>LeakyIntegrator, Izhikevich, IF_curr_exp, IF_cond_exp, IF_curr_alpha, IF_cond_alpha, HH_cond_exp, EIF_cond_exp_isfa_ista, EIF_cond_alpha_isfa_ista</li>
</ul></li>
<li><p>Standard synapses:</p>
<ul>
<li>Hebb, Oja, IBCM, STP, STDP</li>
</ul></li>
<li><p>Parallel simulations with <code>parallel_run</code>.</p></li>
<li><p>Convolutional and pooling layers.</p></li>
<li><p>Hybrid rate-coded / spiking networks.</p></li>
<li><p>Structural plasticity.</p></li>
<li><p>BOLD monitors.</p></li>
<li><p>Tensorboard visualization.</p></li>
<li><p>ANN (keras) to SNN conversion tool.</p></li>
</ul>
<p>RTFM: <a href="https://annarchy.github.io" class="uri">https://annarchy.github.io</a></p>
</section>

<section id="references-scroll-down-for-the-full-list" class="title-slide slide level1 smaller scrollable">
<h1>References (scroll down for the full list)</h1>

<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-Bi2001" class="csl-entry" role="listitem">
Bi, G., and Poo, M. (2001). Synaptic <span>Modification</span> by <span>Correlated Activity</span>: <span>Hebb</span>’s <span>Postulate Revisited</span>. <em>Annual Review of Neuroscience</em> 24, 139–166. doi:<a href="https://doi.org/10.1146/annurev.neuro.24.1.139">10.1146/annurev.neuro.24.1.139</a>.
</div>
<div id="ref-Bienenstock1982" class="csl-entry" role="listitem">
Bienenstock, E. L., Cooper, L. N., and Munro, P. W. (1982). Theory for the development of neuron selectivity: Orientation specificity and binocular interaction in visual cortex. <em>Journal of Neuroscience</em> 2, 32–48.
</div>
<div id="ref-Brette2005" class="csl-entry" role="listitem">
Brette, R., and Gerstner, W. (2005). Adaptive <span class="nocase">Exponential Integrate-and-Fire Model</span> as an <span>Effective Description</span> of <span>Neuronal Activity</span>. <em>Journal of Neurophysiology</em> 94, 3637–3642. doi:<a href="https://doi.org/10.1152/jn.00686.2005">10.1152/jn.00686.2005</a>.
</div>
<div id="ref-Dayan2001" class="csl-entry" role="listitem">
Dayan, P., and Abbott, L. F. (2001). <em>Theoretical <span>Neuroscience</span>: <span>Computational</span> and <span>Mathematical Modeling</span> of <span>Neural Systems</span></em>. <span>The MIT Press</span>.
</div>
<div id="ref-Goenner2017" class="csl-entry" role="listitem">
Gönner, L., Vitay, J., and Hamker, F. H. (2017). Predictive <span>Place-Cell Sequences</span> for <span>Goal-Finding Emerge</span> from <span>Goal Memory</span> and the <span>Cognitive Map</span>: <span>A Computational Model</span>. <em>Frontiers in Computational Neuroscience</em> 11, 84–84. doi:<a href="https://doi.org/10.3389/fncom.2017.00084">10.3389/fncom.2017.00084</a>.
</div>
<div id="ref-Intrator1992" class="csl-entry" role="listitem">
Intrator, N., and Cooper, L. N. (1992). Objective function formulation of the <span>BCM</span> theory of visual cortical plasticity: <span>Statistical</span> connections, stability conditions. <em>Neural Networks</em> 5, 3–17. doi:<a href="https://doi.org/10.1016/S0893-6080(05)80003-6">10.1016/S0893-6080(05)80003-6</a>.
</div>
<div id="ref-Izhikevich2003" class="csl-entry" role="listitem">
Izhikevich, E. M. (2003). Simple model of spiking neurons. <em>IEEE transactions on neural networks</em> 14, 1569–72. doi:<a href="https://doi.org/10.1109/TNN.2003.820440">10.1109/TNN.2003.820440</a>.
</div>
<div id="ref-Jaeger2001" class="csl-entry" role="listitem">
Jaeger, H. (2001). The "echo state" approach to analysing and training recurrent neural networks. <span>Jacobs Universität Bremen</span>.
</div>
<div id="ref-Kriegeskorte2018a" class="csl-entry" role="listitem">
Kriegeskorte, N., and Douglas, P. K. (2018). Cognitive computational neuroscience. <em>Nature Neuroscience</em> 21, 1148–1160. doi:<a href="https://doi.org/10.1038/s41593-018-0210-5">10.1038/s41593-018-0210-5</a>.
</div>
<div id="ref-Miconi2017" class="csl-entry" role="listitem">
Miconi, T. (2017). Biologically plausible learning in recurrent neural networks reproduces neural dynamics observed during cognitive tasks. <em>eLife</em> 6. doi:<a href="https://doi.org/10.7554/elife.20899">10.7554/elife.20899</a>.
</div>
<div id="ref-Oja1982" class="csl-entry" role="listitem">
Oja, E. (1982). A simplified neuron model as a principal component analyzer. <em>Journal of Mathematical Biology</em> 15, 267–73.
</div>
<div id="ref-Teichmann2021" class="csl-entry" role="listitem">
Teichmann, M., Larisch, R., and Hamker, F. H. (2021). Performance of biologically grounded models of the early visual system on standard object recognition tasks. <em>Neural Networks</em> 144, 210–228. doi:<a href="https://doi.org/10.1016/j.neunet.2021.08.009">10.1016/j.neunet.2021.08.009</a>.
</div>
<div id="ref-Tsodyks1997" class="csl-entry" role="listitem">
Tsodyks, M. V., and Markram, H. (1997). The neural code between neocortical pyramidal neurons depends on neurotransmitter release probability. <em>Proceedings of the National Academy of Sciences</em> 94, 719–723. doi:<a href="https://doi.org/10.1073/pnas.94.2.719">10.1073/pnas.94.2.719</a>.
</div>
<div id="ref-Villagrasa2018" class="csl-entry" role="listitem">
Villagrasa, F., Baladron, J., Vitay, J., Schroll, H., Antzoulatos, E. G., Miller, E. K., et al. (2018). On the <span>Role</span> of <span>Cortex-Basal Ganglia Interactions</span> for <span>Category Learning</span>: <span>A Neurocomputational Approach</span>. <em>Journal of Neuroscience</em> 38, 9551–9562. doi:<a href="https://doi.org/10.1523/JNEUROSCI.0874-18.2018">10.1523/JNEUROSCI.0874-18.2018</a>.
</div>
<div id="ref-Vitay2015" class="csl-entry" role="listitem">
Vitay, J., Dinkelbach, H. Ü., and Hamker, F. H. (2015). <span>ANNarchy</span>: A code generation approach to neural simulations on parallel hardware. <em>Frontiers in Neuroinformatics</em> 9. doi:<a href="https://doi.org/10.3389/fninf.2015.00019">10.3389/fninf.2015.00019</a>.
</div>
<div id="ref-Vitay2010" class="csl-entry" role="listitem">
Vitay, J., and Hamker, F. H. (2010). A computational model of <span>Basal Ganglia</span> and its role in memory retrieval in rewarded visual memory tasks. <em>Frontiers in computational neuroscience</em> 4. doi:<a href="https://doi.org/10.3389/fncom.2010.00013">10.3389/fncom.2010.00013</a>.
</div>
<div id="ref-Vitay2014" class="csl-entry" role="listitem">
Vitay, J., and Hamker, F. H. (2014). Timing and expectation of reward: <span>A</span> neuro-computational model of the afferents to the ventral tegmental area. <em>Frontiers in Neurorobotics</em> 8. doi:<a href="https://doi.org/10.3389/fnbot.2014.00004">10.3389/fnbot.2014.00004</a>.
</div>
<div id="ref-Vogels2005" class="csl-entry" role="listitem">
Vogels, T. P., and Abbott, L. F. (2005). Signal propagation and logic gating in networks of integrate-and-fire neurons. <em>The Journal of neuroscience : the official journal of the Society for Neuroscience</em> 25, 10786–95. doi:<a href="https://doi.org/10.1523/JNEUROSCI.3508-05.2005">10.1523/JNEUROSCI.3508-05.2005</a>.
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/ANNarchy\.github\.io\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>