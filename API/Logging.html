
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="Convolution.html">
      
      
        <link rel="next" href="BOLD.html">
      
      
      <link rel="icon" href="../_static/logo.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>Logging with tensorboard - ANNarchy 4.7.3</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#logging-with-tensorboard" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="ANNarchy 4.7.3" class="md-header__button md-logo" aria-label="ANNarchy 4.7.3" data-md-component="logo">
      
  <img src="../_static/logowhite.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ANNarchy 4.7.3
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Logging with tensorboard
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ANNarchy/ANNarchy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="ANNarchy 4.7.3" class="md-nav__button md-logo" aria-label="ANNarchy 4.7.3" data-md-component="logo">
      
  <img src="../_static/logowhite.svg" alt="logo">

    </a>
    ANNarchy 4.7.3
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ANNarchy/ANNarchy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Installation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Structure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Parser.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/RateNeuron.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rate-coded neurons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/SpikeNeuron.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spiking neurons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/RateSynapse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rate-coded synapses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/SpikeSynapse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spiking synapses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Populations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Populations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Projections.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Connector.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connectivity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Inputs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting inputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Simulation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/NumericalMethods.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Equations and numerical methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Recording.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recording with Monitors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Saving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Saving and loading a network
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Network.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parallel simulations and networks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Hybrid.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hybrid networks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/StructuralPlasticity.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structural plasticity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/ConvolutionalNetworks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convolution and pooling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Notebooks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notebooks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Reporting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual/Logging.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging with tensorboard
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ANNarchy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Top-level methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Neuron.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neuron
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="SpecificNeuron.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in neuron types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Synapse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Synapse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="SpecificSynapse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in synapse types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Population.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Population
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="SpecificPopulation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Specific Populations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Projection.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="SpecificProjection.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Specific Projections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Dendrite.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dendrite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Monitor.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="RandomDistribution.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random Distributions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Network.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="IO.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Saving / Loading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Utilities.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    extensions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            extensions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Convolution.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convolution and Pooling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Logging with tensorboard
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Logging.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Logging with tensorboard
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger" class="md-nav__link">
    <span class="md-ellipsis">
      Logger
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger" class="md-nav__link">
    <span class="md-ellipsis">
      Logger
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_figure" class="md-nav__link">
    <span class="md-ellipsis">
      add_figure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_histogram" class="md-nav__link">
    <span class="md-ellipsis">
      add_histogram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_image" class="md-nav__link">
    <span class="md-ellipsis">
      add_image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_images" class="md-nav__link">
    <span class="md-ellipsis">
      add_images
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      add_parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_scalar" class="md-nav__link">
    <span class="md-ellipsis">
      add_scalar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_scalars" class="md-nav__link">
    <span class="md-ellipsis">
      add_scalars
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.close" class="md-nav__link">
    <span class="md-ellipsis">
      close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.flush" class="md-nav__link">
    <span class="md-ellipsis">
      flush
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="BOLD.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BOLD monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ANNtoSNN.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ANN-to-SNN conversion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/List.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    List of notebooks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/NeuralField.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neural Field
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/BarLearning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bar Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/StructuralPlasticity.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structural plasticity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/Izhikevich.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Izhikevich
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/GapJunctions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gap junctions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/HodgkinHuxley.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hodgkin-Huxley
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/COBA.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    COBA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/STP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/SimpleSTDP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STDP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/Ramp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ramp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/Hybrid.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hybrid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/Image.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/Webcam.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webcam
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/MultipleNetworks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parallel simulations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/BayesianOptimization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bayesian optimization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/BasalGanglia.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging with tensorboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/BoldMonitoring.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BOLD monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/ANN2SNN.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ANN to SNN Conversion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../License.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger" class="md-nav__link">
    <span class="md-ellipsis">
      Logger
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger" class="md-nav__link">
    <span class="md-ellipsis">
      Logger
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_figure" class="md-nav__link">
    <span class="md-ellipsis">
      add_figure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_histogram" class="md-nav__link">
    <span class="md-ellipsis">
      add_histogram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_image" class="md-nav__link">
    <span class="md-ellipsis">
      add_image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_images" class="md-nav__link">
    <span class="md-ellipsis">
      add_images
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      add_parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_scalar" class="md-nav__link">
    <span class="md-ellipsis">
      add_scalar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_scalars" class="md-nav__link">
    <span class="md-ellipsis">
      add_scalars
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.close" class="md-nav__link">
    <span class="md-ellipsis">
      close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.extensions.tensorboard.Logger.Logger.flush" class="md-nav__link">
    <span class="md-ellipsis">
      flush
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="logging-with-tensorboard">Logging with tensorboard<a class="headerlink" href="#logging-with-tensorboard" title="Permanent link">#</a></h1>
<p>Logging utilities based on <code>tensorboard`` are provided in the module</code>ANNarchy.extensions.tensorboard`, which must be explicitly imported:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">ANNarchy</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">ANNarchy.extensions.tensorboard</span> <span class="kn">import</span> <span class="n">Logger</span>
</code></pre></div>
<p>The main object in that module is the <code>Logger</code> class.</p>


<div class="doc doc-object doc-module">



<h2 id="ANNarchy.extensions.tensorboard.Logger" class="doc doc-heading">
          <code>ANNarchy.extensions.tensorboard.Logger</code>


<a href="#ANNarchy.extensions.tensorboard.Logger" class="headerlink" title="Permanent link">#</a></h2>

  <div class="doc doc-contents first">
  
      <p>:copyright: Copyright 2013 - now, see AUTHORS.
:license: GPLv2, see LICENSE for details.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ANNarchy.extensions.tensorboard.Logger.Logger" class="doc doc-heading">
          <code>Logger</code>


<a href="#ANNarchy.extensions.tensorboard.Logger.Logger" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>object</code></p>

  
      <p>Logger class to use tensorboard to visualize ANNarchy simulations. Requires the <code>tensorboardX</code> package (pip install tensorboardX). </p>
<p>The Logger class is a thin wrapper around tensorboardX.SummaryWriter, which you could also use directly. The doc is available at <a href="https://tensorboardx.readthedocs.io/">https://tensorboardx.readthedocs.io/</a>. Tensorboard can read any logging data, as long as they are saved in the right format (tfevents), so it is not limited to tensorflow. TensorboardX has been developed to allow the use of tensorboard with pytorch.</p>
<p>The extension has to be imported explictly:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">ANNarchy.extensions.tensorboard</span> <span class="kn">import</span> <span class="n">Logger</span>
</code></pre></div>
<p>The <code>Logger</code> class has to be closed properly at the end of the script, so it is advised to use a context:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">()</span> <span class="k">as</span> <span class="n">logger</span><span class="p">:</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">add_scalar</span><span class="p">(</span><span class="s2">&quot;Accuracy&quot;</span><span class="p">,</span> <span class="n">acc</span><span class="p">,</span> <span class="n">trial</span><span class="p">)</span>
</code></pre></div>
<p>You can also make sure to close it:</p>
<div class="highlight"><pre><span></span><code><span class="n">logger</span> <span class="o">=</span> <span class="n">Logger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">add_scalar</span><span class="p">(</span><span class="s2">&quot;Accuracy&quot;</span><span class="p">,</span> <span class="n">acc</span><span class="p">,</span> <span class="n">trial</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
<p>By default, the logs will be written in a subfolder of <code>./runs/</code> (which will be created in the current directory). 
The subfolder is a combination of the current datetime and of the hostname, e.g. <code>./runs/Apr22_12-11-22_machine</code>. 
You can control these two elements by passing arguments to <code>Logger()</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">(</span><span class="n">logdir</span><span class="o">=</span><span class="s2">&quot;/tmp/annarchy&quot;</span><span class="p">,</span> <span class="n">experiment</span><span class="o">=</span><span class="s2">&quot;trial1&quot;</span><span class="p">):</span> <span class="c1"># logs in /tmp/annarchy/trial1</span>
</code></pre></div>
<p>The <code>add_*</code> methods allow you to log various structures, such as scalars, images, histograms, figures, etc.</p>
<p>A tag should be given to each plot. In the example above, the figure with the accuracy will be labelled "Accuracy" in tensorboard. 
You can also group plots together with tags such as "Global performance/Accuracy", "Global performance/Error rate", "Neural activity/Population 1", etc.</p>
<p>After (or while) logging data within your simulation, run <code>tensorboard</code> in the terminal by specifying the log directory:</p>
<div class="highlight"><pre><span></span><code>tensorboard<span class="w"> </span>--logdir<span class="w"> </span>runs
</code></pre></div>
<p>TensorboardX enqueues the data in memory before writing to disk. You can force flushing with:</p>
<div class="highlight"><pre><span></span><code><span class="n">logger</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Logger</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logger class to use tensorboard to visualize ANNarchy simulations. Requires the `tensorboardX` package (pip install tensorboardX). </span>

<span class="sd">    The Logger class is a thin wrapper around tensorboardX.SummaryWriter, which you could also use directly. The doc is available at &lt;https://tensorboardx.readthedocs.io/&gt;. Tensorboard can read any logging data, as long as they are saved in the right format (tfevents), so it is not limited to tensorflow. TensorboardX has been developed to allow the use of tensorboard with pytorch.</span>

<span class="sd">    The extension has to be imported explictly:</span>

<span class="sd">    ```python</span>
<span class="sd">    from ANNarchy.extensions.tensorboard import Logger</span>
<span class="sd">    ```</span>

<span class="sd">    The ``Logger`` class has to be closed properly at the end of the script, so it is advised to use a context:</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger() as logger:</span>
<span class="sd">        logger.add_scalar(&quot;Accuracy&quot;, acc, trial)</span>
<span class="sd">    ```</span>

<span class="sd">    You can also make sure to close it:</span>

<span class="sd">    ```python</span>
<span class="sd">    logger = Logger()</span>
<span class="sd">    logger.add_scalar(&quot;Accuracy&quot;, acc, trial)</span>
<span class="sd">    logger.close()</span>
<span class="sd">    ```</span>

<span class="sd">    By default, the logs will be written in a subfolder of ``./runs/`` (which will be created in the current directory). </span>
<span class="sd">    The subfolder is a combination of the current datetime and of the hostname, e.g. ``./runs/Apr22_12-11-22_machine``. </span>
<span class="sd">    You can control these two elements by passing arguments to ``Logger()``:</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger(logdir=&quot;/tmp/annarchy&quot;, experiment=&quot;trial1&quot;): # logs in /tmp/annarchy/trial1</span>
<span class="sd">    ```</span>

<span class="sd">    The ``add_*`` methods allow you to log various structures, such as scalars, images, histograms, figures, etc.</span>

<span class="sd">    A tag should be given to each plot. In the example above, the figure with the accuracy will be labelled &quot;Accuracy&quot; in tensorboard. </span>
<span class="sd">    You can also group plots together with tags such as &quot;Global performance/Accuracy&quot;, &quot;Global performance/Error rate&quot;, &quot;Neural activity/Population 1&quot;, etc.</span>

<span class="sd">    After (or while) logging data within your simulation, run `tensorboard` in the terminal by specifying the log directory:</span>

<span class="sd">    ```bash</span>
<span class="sd">    tensorboard --logdir runs</span>
<span class="sd">    ```</span>

<span class="sd">    TensorboardX enqueues the data in memory before writing to disk. You can force flushing with:</span>

<span class="sd">    ```python</span>
<span class="sd">    logger.flush()</span>
<span class="sd">    ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logdir</span><span class="o">=</span><span class="s2">&quot;runs/&quot;</span><span class="p">,</span> <span class="n">experiment</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param logdir: path (absolute or relative) to the logging directory. Subfolders will be created for each individual run. The default is &quot;runs/&quot;</span>
<span class="sd">        :param experiment: name of the subfolder for the current run. By default, it is a combination of the current time and the hostname (e.g. Apr22_12-11-22_machine). If you reuse an experiment name, the data will be appended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logdir</span> <span class="o">=</span> <span class="n">logdir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">experiment</span> <span class="o">=</span> <span class="n">experiment</span>

        <span class="c1"># Create the logdir if it does not exist</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logdir</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logdir</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">experiment</span><span class="p">:</span>
            <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%b</span><span class="si">%d</span><span class="s1">_%H-%M-%S&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currentlogdir</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logdir</span><span class="p">,</span> <span class="n">current_time</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currentlogdir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">logdir</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">experiment</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Logging in&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentlogdir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_create_summary_writer</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_create_summary_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

         <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span> <span class="o">=</span> <span class="n">SummaryWriter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currentlogdir</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">purge_step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_queue</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">flush_secs</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">filename_suffix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">write_to_disk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Logging methods</span>

    <span class="k">def</span> <span class="nf">add_scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Logs a single scalar value, e.g. a success rate at various stages of learning.</span>

<span class="sd">        Example:</span>

<span class="sd">        ```python</span>
<span class="sd">        with Logger() as logger:</span>
<span class="sd">            for trial in range(100):</span>
<span class="sd">                simulate(1000.0)</span>
<span class="sd">                accuracy = ...</span>
<span class="sd">                logger.add_scalar(&quot;Accuracy&quot;, accuracy, trial)</span>
<span class="sd">        ```</span>

<span class="sd">        :param tag: name of the figure in tensorboard.</span>
<span class="sd">        :param value: value.</span>
<span class="sd">        :param step: time index.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_scalar</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">scalar_value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_scalars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Logs multiple scalar values to be displayed in the same figure, e.g. several metrics or neural activities.</span>

<span class="sd">        Example:</span>

<span class="sd">        ```python</span>
<span class="sd">        with Logger() as logger:</span>
<span class="sd">            for trial in range(100):</span>
<span class="sd">                simulate(1000.0)</span>
<span class="sd">                act1 = pop.r[0]</span>
<span class="sd">                act2 = pop.r[1]</span>
<span class="sd">                logger.add_scalars(</span>
<span class="sd">                    &quot;Accuracy&quot;, </span>
<span class="sd">                    {&#39;First neuron&#39;: act1, &#39;Second neuron&#39;: act2}, </span>
<span class="sd">                    trial)</span>
<span class="sd">        ```</span>

<span class="sd">        :param tag: name of the figure in tensorboard.</span>
<span class="sd">        :param value: dictionary of values.</span>
<span class="sd">        :param step: time index.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_scalars</span><span class="p">(</span><span class="n">main_tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">tag_scalar_dict</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">equalize</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Logs an image.</span>

<span class="sd">        The image must be a numpy array of size (height, width) for monochrome images or (height, width, 3) for colored images. The values should either be integers between 0 and 255 or floats between 0 and 1. The parameter ``equalize`` forces the values to be between 0 and 1 by equalizing using the min/max values.</span>

<span class="sd">        Example::</span>

<span class="sd">        ```python</span>
<span class="sd">        with Logger() as logger:</span>
<span class="sd">            for trial in range(100):</span>
<span class="sd">                simulate(1000.0)</span>
<span class="sd">                img = pop.r.reshape((10, 10))</span>
<span class="sd">                logger.add_image(&quot;Population / Firing rate&quot;, img, trial, equalize=True)</span>
<span class="sd">        ```</span>

<span class="sd">        :param tag: name of the figure in tensorboard.</span>
<span class="sd">        :param img: array for the image.</span>
<span class="sd">        :param step: time index.</span>
<span class="sd">        :param equalize: rescales the pixels between 0 and 1 using the min and max values of the array.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">img</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span><span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">equalize</span><span class="p">:</span>  
                <span class="n">img</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>              
                <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_image</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">img_tensor</span><span class="o">=</span><span class="n">img</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataformats</span><span class="o">=</span><span class="s1">&#39;HW&#39;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">img</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;Logger.add_image: color images must be of shape (H, W, 3).&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">equalize</span><span class="p">:</span>   
                <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>         
                <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_image</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">img_tensor</span><span class="o">=</span><span class="n">img</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataformats</span><span class="o">=</span><span class="s1">&#39;HWC&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;Logger.add_image: images must be of shape (H, W) or (H, W, 3).&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_images</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">equalize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">equalize_per_image</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Logs a set of images (e.g. receptive fields).</span>

<span class="sd">        The numpy array must be of size (number, height, width) for monochrome images or (number, height, width, 3) for colored images. The values should either be integers between 0 and 255 or floats between 0 and 1. The parameter ``equalize`` forces the values to be between 0 and 1 by equalizing using the min/max values.</span>

<span class="sd">        Example:</span>

<span class="sd">        ```python</span>
<span class="sd">        with Logger() as logger:</span>
<span class="sd">            for trial in range(100):</span>
<span class="sd">                simulate(1000.0)</span>
<span class="sd">                weights= proj.w.reshape(100, 10, 10) # 100 post neurons, 10*10 pre neurons</span>
<span class="sd">                logger.add_images(&quot;Projection/Receptive fields&quot;, weights, trial, equalize=True)</span>
<span class="sd">        ```</span>

<span class="sd">        :param tag: name of the figure in tensorboard.</span>
<span class="sd">        :param img: array for the images.</span>
<span class="sd">        :param step: time index.</span>
<span class="sd">        :param equalize: rescales the pixels between 0 and 1 using the min and max values of the array.</span>
<span class="sd">        :param equalize_per_image: whether the rescaling should be using the global min/max values of the array, or per image. Has no effect if equalize of False.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">img</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">equalize</span><span class="p">:</span>   
            <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span> 
            <span class="k">if</span> <span class="ow">not</span> <span class="n">equalize_per_image</span><span class="p">:</span>        
                <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                    <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span> <span class="o">-</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_images</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">img_tensor</span><span class="o">=</span><span class="n">img</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataformats</span><span class="o">=</span><span class="s1">&#39;NHWC&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">metrics</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Logs parameters of a simulation.</span>

<span class="sd">        This should be run only once per simulation, generally at the end. </span>
<span class="sd">        This allows to compare different runs of the same network using </span>
<span class="sd">        different parameter values and study how they influence the global output metrics, </span>
<span class="sd">        such as accuracy, error rate, reaction speed, etc.</span>

<span class="sd">        Example:</span>

<span class="sd">        ```python</span>
<span class="sd">        with Logger() as logger:</span>
<span class="sd">            # ...</span>
<span class="sd">            logger.add_parameters({&#39;learning_rate&#39;: lr, &#39;tau&#39;: tau}, {&#39;accuracy&#39;: accuracy})</span>
<span class="sd">        ```</span>

<span class="sd">        :param params: dictionary of parameters.</span>
<span class="sd">        :param metrics: dictionary of metrics.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_hparams</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">metrics</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_histogram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">hist</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Logs an histogram.</span>

<span class="sd">        Example:</span>

<span class="sd">        ```python</span>
<span class="sd">        with Logger() as logger:</span>
<span class="sd">            for trial in range(100):</span>
<span class="sd">                simulate(1000.0)</span>
<span class="sd">                weights= proj.w.flatten()</span>
<span class="sd">                logger.add_histogram(&quot;Weight distribution&quot;, weights, trial)</span>
<span class="sd">        ```</span>


<span class="sd">        :param tag: name of the figure in tensorboard.</span>
<span class="sd">        :param hist: a list or 1D numpy array of values.</span>
<span class="sd">        :param step: time index.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_histogram</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">hist</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">figure</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Logs a Matplotlib figure.</span>

<span class="sd">        Example:</span>

<span class="sd">        ```python</span>
<span class="sd">        with Logger() as logger:</span>
<span class="sd">            for trial in range(100):</span>
<span class="sd">                simulate(1000.0)</span>
<span class="sd">                fig = plt.figure()</span>
<span class="sd">                plt.plot(pop.r)</span>
<span class="sd">                logger.add_figure(&quot;Activity&quot;, fig, trial)</span>
<span class="sd">        ```</span>

<span class="sd">        :param tag: name of the image in tensorboard.</span>
<span class="sd">        :param figure: a list or 1D numpy array of values.</span>
<span class="sd">        :param step: time index.</span>
<span class="sd">        :param close: whether the logger will close the figure when done (default: True).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
        <span class="kn">import</span> <span class="nn">matplotlib.backends.backend_agg</span> <span class="k">as</span> <span class="nn">plt_backend_agg</span>
        <span class="n">canvas</span> <span class="o">=</span> <span class="n">plt_backend_agg</span><span class="o">.</span><span class="n">FigureCanvasAgg</span><span class="p">(</span><span class="n">figure</span><span class="p">)</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">canvas</span><span class="o">.</span><span class="n">buffer_rgba</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_width_height</span><span class="p">()</span>
        <span class="n">image_hwc</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">4</span><span class="p">])[:,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">image_chw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">moveaxis</span><span class="p">(</span><span class="n">image_hwc</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">close</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">figure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_image</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">image_chw</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

    <span class="c1"># Resource management</span>
    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&quot;Forces the logged data to be flushed to disk.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&quot;Closes the logger.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">logdir</span><span class="o">=</span><span class="s1">&#39;runs/&#39;</span><span class="p">,</span> <span class="n">experiment</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.__init__" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>logdir</code></b>
        
        <div class="doc-md-description">
          <p>path (absolute or relative) to the logging directory. Subfolders will be created for each individual run. The default is "runs/"</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>experiment</code></b>
        
        <div class="doc-md-description">
          <p>name of the subfolder for the current run. By default, it is a combination of the current time and the hostname (e.g. Apr22_12-11-22_machine). If you reuse an experiment name, the data will be appended.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logdir</span><span class="o">=</span><span class="s2">&quot;runs/&quot;</span><span class="p">,</span> <span class="n">experiment</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param logdir: path (absolute or relative) to the logging directory. Subfolders will be created for each individual run. The default is &quot;runs/&quot;</span>
<span class="sd">    :param experiment: name of the subfolder for the current run. By default, it is a combination of the current time and the hostname (e.g. Apr22_12-11-22_machine). If you reuse an experiment name, the data will be appended.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logdir</span> <span class="o">=</span> <span class="n">logdir</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">experiment</span> <span class="o">=</span> <span class="n">experiment</span>

    <span class="c1"># Create the logdir if it does not exist</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logdir</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logdir</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">experiment</span><span class="p">:</span>
        <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%b</span><span class="si">%d</span><span class="s1">_%H-%M-%S&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currentlogdir</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logdir</span><span class="p">,</span> <span class="n">current_time</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currentlogdir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">logdir</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">experiment</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Logging in&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentlogdir</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_create_summary_writer</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.add_figure" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_figure</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">figure</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_figure" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Logs a Matplotlib figure.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">()</span> <span class="k">as</span> <span class="n">logger</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">simulate</span><span class="p">(</span><span class="mf">1000.0</span><span class="p">)</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pop</span><span class="o">.</span><span class="n">r</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">add_figure</span><span class="p">(</span><span class="s2">&quot;Activity&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">trial</span><span class="p">)</span>
</code></pre></div>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>tag</code></b>
        
        <div class="doc-md-description">
          <p>name of the image in tensorboard.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>figure</code></b>
        
        <div class="doc-md-description">
          <p>a list or 1D numpy array of values.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>step</code></b>
        
        <div class="doc-md-description">
          <p>time index.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>close</code></b>
        
        <div class="doc-md-description">
          <p>whether the logger will close the figure when done (default: True).</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">figure</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs a Matplotlib figure.</span>

<span class="sd">    Example:</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger() as logger:</span>
<span class="sd">        for trial in range(100):</span>
<span class="sd">            simulate(1000.0)</span>
<span class="sd">            fig = plt.figure()</span>
<span class="sd">            plt.plot(pop.r)</span>
<span class="sd">            logger.add_figure(&quot;Activity&quot;, fig, trial)</span>
<span class="sd">    ```</span>

<span class="sd">    :param tag: name of the image in tensorboard.</span>
<span class="sd">    :param figure: a list or 1D numpy array of values.</span>
<span class="sd">    :param step: time index.</span>
<span class="sd">    :param close: whether the logger will close the figure when done (default: True).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="kn">import</span> <span class="nn">matplotlib.backends.backend_agg</span> <span class="k">as</span> <span class="nn">plt_backend_agg</span>
    <span class="n">canvas</span> <span class="o">=</span> <span class="n">plt_backend_agg</span><span class="o">.</span><span class="n">FigureCanvasAgg</span><span class="p">(</span><span class="n">figure</span><span class="p">)</span>
    <span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">canvas</span><span class="o">.</span><span class="n">buffer_rgba</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_width_height</span><span class="p">()</span>
    <span class="n">image_hwc</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">4</span><span class="p">])[:,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">image_chw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">moveaxis</span><span class="p">(</span><span class="n">image_hwc</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">close</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">figure</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_image</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">image_chw</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.add_histogram" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_histogram</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">hist</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_histogram" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Logs an histogram.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">()</span> <span class="k">as</span> <span class="n">logger</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">simulate</span><span class="p">(</span><span class="mf">1000.0</span><span class="p">)</span>
        <span class="n">weights</span><span class="o">=</span> <span class="n">proj</span><span class="o">.</span><span class="n">w</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">add_histogram</span><span class="p">(</span><span class="s2">&quot;Weight distribution&quot;</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">trial</span><span class="p">)</span>
</code></pre></div>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>tag</code></b>
        
        <div class="doc-md-description">
          <p>name of the figure in tensorboard.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>hist</code></b>
        
        <div class="doc-md-description">
          <p>a list or 1D numpy array of values.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>step</code></b>
        
        <div class="doc-md-description">
          <p>time index.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_histogram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">hist</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs an histogram.</span>

<span class="sd">    Example:</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger() as logger:</span>
<span class="sd">        for trial in range(100):</span>
<span class="sd">            simulate(1000.0)</span>
<span class="sd">            weights= proj.w.flatten()</span>
<span class="sd">            logger.add_histogram(&quot;Weight distribution&quot;, weights, trial)</span>
<span class="sd">    ```</span>


<span class="sd">    :param tag: name of the figure in tensorboard.</span>
<span class="sd">    :param hist: a list or 1D numpy array of values.</span>
<span class="sd">    :param step: time index.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_histogram</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">hist</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.add_image" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_image</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">equalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_image" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Logs an image.</p>
<p>The image must be a numpy array of size (height, width) for monochrome images or (height, width, 3) for colored images. The values should either be integers between 0 and 255 or floats between 0 and 1. The parameter <code>equalize</code> forces the values to be between 0 and 1 by equalizing using the min/max values.</p>
<p>Example::</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">()</span> <span class="k">as</span> <span class="n">logger</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">simulate</span><span class="p">(</span><span class="mf">1000.0</span><span class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">add_image</span><span class="p">(</span><span class="s2">&quot;Population / Firing rate&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">trial</span><span class="p">,</span> <span class="n">equalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>tag</code></b>
        
        <div class="doc-md-description">
          <p>name of the figure in tensorboard.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>img</code></b>
        
        <div class="doc-md-description">
          <p>array for the image.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>step</code></b>
        
        <div class="doc-md-description">
          <p>time index.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>equalize</code></b>
        
        <div class="doc-md-description">
          <p>rescales the pixels between 0 and 1 using the min and max values of the array.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">equalize</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs an image.</span>

<span class="sd">    The image must be a numpy array of size (height, width) for monochrome images or (height, width, 3) for colored images. The values should either be integers between 0 and 255 or floats between 0 and 1. The parameter ``equalize`` forces the values to be between 0 and 1 by equalizing using the min/max values.</span>

<span class="sd">    Example::</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger() as logger:</span>
<span class="sd">        for trial in range(100):</span>
<span class="sd">            simulate(1000.0)</span>
<span class="sd">            img = pop.r.reshape((10, 10))</span>
<span class="sd">            logger.add_image(&quot;Population / Firing rate&quot;, img, trial, equalize=True)</span>
<span class="sd">    ```</span>

<span class="sd">    :param tag: name of the figure in tensorboard.</span>
<span class="sd">    :param img: array for the image.</span>
<span class="sd">    :param step: time index.</span>
<span class="sd">    :param equalize: rescales the pixels between 0 and 1 using the min and max values of the array.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">img</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">equalize</span><span class="p">:</span>  
            <span class="n">img</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>              
            <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_image</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">img_tensor</span><span class="o">=</span><span class="n">img</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataformats</span><span class="o">=</span><span class="s1">&#39;HW&#39;</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">img</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;Logger.add_image: color images must be of shape (H, W, 3).&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">equalize</span><span class="p">:</span>   
            <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>         
            <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_image</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">img_tensor</span><span class="o">=</span><span class="n">img</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataformats</span><span class="o">=</span><span class="s1">&#39;HWC&#39;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;Logger.add_image: images must be of shape (H, W) or (H, W, 3).&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.add_images" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_images</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">equalize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">equalize_per_image</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_images" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Logs a set of images (e.g. receptive fields).</p>
<p>The numpy array must be of size (number, height, width) for monochrome images or (number, height, width, 3) for colored images. The values should either be integers between 0 and 255 or floats between 0 and 1. The parameter <code>equalize</code> forces the values to be between 0 and 1 by equalizing using the min/max values.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">()</span> <span class="k">as</span> <span class="n">logger</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">simulate</span><span class="p">(</span><span class="mf">1000.0</span><span class="p">)</span>
        <span class="n">weights</span><span class="o">=</span> <span class="n">proj</span><span class="o">.</span><span class="n">w</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># 100 post neurons, 10*10 pre neurons</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">add_images</span><span class="p">(</span><span class="s2">&quot;Projection/Receptive fields&quot;</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">trial</span><span class="p">,</span> <span class="n">equalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>tag</code></b>
        
        <div class="doc-md-description">
          <p>name of the figure in tensorboard.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>img</code></b>
        
        <div class="doc-md-description">
          <p>array for the images.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>step</code></b>
        
        <div class="doc-md-description">
          <p>time index.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>equalize</code></b>
        
        <div class="doc-md-description">
          <p>rescales the pixels between 0 and 1 using the min and max values of the array.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>equalize_per_image</code></b>
        
        <div class="doc-md-description">
          <p>whether the rescaling should be using the global min/max values of the array, or per image. Has no effect if equalize of False.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_images</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">equalize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">equalize_per_image</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs a set of images (e.g. receptive fields).</span>

<span class="sd">    The numpy array must be of size (number, height, width) for monochrome images or (number, height, width, 3) for colored images. The values should either be integers between 0 and 255 or floats between 0 and 1. The parameter ``equalize`` forces the values to be between 0 and 1 by equalizing using the min/max values.</span>

<span class="sd">    Example:</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger() as logger:</span>
<span class="sd">        for trial in range(100):</span>
<span class="sd">            simulate(1000.0)</span>
<span class="sd">            weights= proj.w.reshape(100, 10, 10) # 100 post neurons, 10*10 pre neurons</span>
<span class="sd">            logger.add_images(&quot;Projection/Receptive fields&quot;, weights, trial, equalize=True)</span>
<span class="sd">    ```</span>

<span class="sd">    :param tag: name of the figure in tensorboard.</span>
<span class="sd">    :param img: array for the images.</span>
<span class="sd">    :param step: time index.</span>
<span class="sd">    :param equalize: rescales the pixels between 0 and 1 using the min and max values of the array.</span>
<span class="sd">    :param equalize_per_image: whether the rescaling should be using the global min/max values of the array, or per image. Has no effect if equalize of False.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">img</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">equalize</span><span class="p">:</span>   
        <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span> 
        <span class="k">if</span> <span class="ow">not</span> <span class="n">equalize_per_image</span><span class="p">:</span>        
            <span class="n">img</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">img</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span> <span class="o">-</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">...</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_images</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">img_tensor</span><span class="o">=</span><span class="n">img</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataformats</span><span class="o">=</span><span class="s1">&#39;NHWC&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.add_parameters" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_parameters</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">metrics</span><span class="p">)</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_parameters" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Logs parameters of a simulation.</p>
<p>This should be run only once per simulation, generally at the end. 
This allows to compare different runs of the same network using 
different parameter values and study how they influence the global output metrics, 
such as accuracy, error rate, reaction speed, etc.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">()</span> <span class="k">as</span> <span class="n">logger</span><span class="p">:</span>
    <span class="c1"># ...</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">add_parameters</span><span class="p">({</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">:</span> <span class="n">lr</span><span class="p">,</span> <span class="s1">&#39;tau&#39;</span><span class="p">:</span> <span class="n">tau</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="n">accuracy</span><span class="p">})</span>
</code></pre></div>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>params</code></b>
        
        <div class="doc-md-description">
          <p>dictionary of parameters.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>metrics</code></b>
        
        <div class="doc-md-description">
          <p>dictionary of metrics.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">metrics</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs parameters of a simulation.</span>

<span class="sd">    This should be run only once per simulation, generally at the end. </span>
<span class="sd">    This allows to compare different runs of the same network using </span>
<span class="sd">    different parameter values and study how they influence the global output metrics, </span>
<span class="sd">    such as accuracy, error rate, reaction speed, etc.</span>

<span class="sd">    Example:</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger() as logger:</span>
<span class="sd">        # ...</span>
<span class="sd">        logger.add_parameters({&#39;learning_rate&#39;: lr, &#39;tau&#39;: tau}, {&#39;accuracy&#39;: accuracy})</span>
<span class="sd">    ```</span>

<span class="sd">    :param params: dictionary of parameters.</span>
<span class="sd">    :param metrics: dictionary of metrics.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_hparams</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">metrics</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.add_scalar" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_scalar</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_scalar" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Logs a single scalar value, e.g. a success rate at various stages of learning.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">()</span> <span class="k">as</span> <span class="n">logger</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">simulate</span><span class="p">(</span><span class="mf">1000.0</span><span class="p">)</span>
        <span class="n">accuracy</span> <span class="o">=</span> <span class="o">...</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">add_scalar</span><span class="p">(</span><span class="s2">&quot;Accuracy&quot;</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">,</span> <span class="n">trial</span><span class="p">)</span>
</code></pre></div>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>tag</code></b>
        
        <div class="doc-md-description">
          <p>name of the figure in tensorboard.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>value</code></b>
        
        <div class="doc-md-description">
          <p>value.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>step</code></b>
        
        <div class="doc-md-description">
          <p>time index.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs a single scalar value, e.g. a success rate at various stages of learning.</span>

<span class="sd">    Example:</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger() as logger:</span>
<span class="sd">        for trial in range(100):</span>
<span class="sd">            simulate(1000.0)</span>
<span class="sd">            accuracy = ...</span>
<span class="sd">            logger.add_scalar(&quot;Accuracy&quot;, accuracy, trial)</span>
<span class="sd">    ```</span>

<span class="sd">    :param tag: name of the figure in tensorboard.</span>
<span class="sd">    :param value: value.</span>
<span class="sd">    :param step: time index.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_scalar</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">scalar_value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.add_scalars" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_scalars</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.add_scalars" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Logs multiple scalar values to be displayed in the same figure, e.g. several metrics or neural activities.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">Logger</span><span class="p">()</span> <span class="k">as</span> <span class="n">logger</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">simulate</span><span class="p">(</span><span class="mf">1000.0</span><span class="p">)</span>
        <span class="n">act1</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">act2</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">add_scalars</span><span class="p">(</span>
            <span class="s2">&quot;Accuracy&quot;</span><span class="p">,</span> 
            <span class="p">{</span><span class="s1">&#39;First neuron&#39;</span><span class="p">:</span> <span class="n">act1</span><span class="p">,</span> <span class="s1">&#39;Second neuron&#39;</span><span class="p">:</span> <span class="n">act2</span><span class="p">},</span> 
            <span class="n">trial</span><span class="p">)</span>
</code></pre></div>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>tag</code></b>
        
        <div class="doc-md-description">
          <p>name of the figure in tensorboard.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>value</code></b>
        
        <div class="doc-md-description">
          <p>dictionary of values.</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>step</code></b>
        
        <div class="doc-md-description">
          <p>time index.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_scalars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs multiple scalar values to be displayed in the same figure, e.g. several metrics or neural activities.</span>

<span class="sd">    Example:</span>

<span class="sd">    ```python</span>
<span class="sd">    with Logger() as logger:</span>
<span class="sd">        for trial in range(100):</span>
<span class="sd">            simulate(1000.0)</span>
<span class="sd">            act1 = pop.r[0]</span>
<span class="sd">            act2 = pop.r[1]</span>
<span class="sd">            logger.add_scalars(</span>
<span class="sd">                &quot;Accuracy&quot;, </span>
<span class="sd">                {&#39;First neuron&#39;: act1, &#39;Second neuron&#39;: act2}, </span>
<span class="sd">                trial)</span>
<span class="sd">    ```</span>

<span class="sd">    :param tag: name of the figure in tensorboard.</span>
<span class="sd">    :param value: dictionary of values.</span>
<span class="sd">    :param step: time index.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">add_scalars</span><span class="p">(</span><span class="n">main_tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span> <span class="n">tag_scalar_dict</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">global_step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">walltime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.close" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">close</span><span class="p">()</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.close" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Closes the logger.</p>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Closes the logger.&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="ANNarchy.extensions.tensorboard.Logger.Logger.flush" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">flush</span><span class="p">()</span></code>

<a href="#ANNarchy.extensions.tensorboard.Logger.Logger.flush" class="headerlink" title="Permanent link">#</a></h4>


  <div class="doc doc-contents ">
  
      <p>Forces the logged data to be flushed to disk.</p>

          <details class="quote">
            <summary>Source code in <code>ANNarchy/extensions/tensorboard/Logger.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Forces the logged data to be flushed to disk.&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_summary</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Julien Vitay, Helge lo Dinkelbach, Fred H. Hamker
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["header.autohide"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>