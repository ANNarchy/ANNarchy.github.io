
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../_static/logo.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.5">
    
    
      
        <title>Projection - ANNarchy</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.77f3fd56.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../../css/pandas-dataframe.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="indigo">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#projection" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ANNarchy" class="md-header__button md-logo" aria-label="ANNarchy">
      
  <img src="../../_static/logowhite.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ANNarchy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Projection
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://bitbucket.org/ANNarchy/ANNarchy/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Bitbucket
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ANNarchy" class="md-nav__button md-logo" aria-label="ANNarchy">
      
  <img src="../../_static/logowhite.svg" alt="logo">

    </a>
    ANNarchy
  </label>
  
    <div class="md-nav__source">
      
<a href="https://bitbucket.org/ANNarchy/ANNarchy/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Bitbucket
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Manual
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Manual" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Structure/" class="md-nav__link">
        General structure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Parser/" class="md-nav__link">
        Parser
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/RateNeuron/" class="md-nav__link">
        Rate-coded neurons
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/SpikeNeuron/" class="md-nav__link">
        Spiking neurons
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/RateSynapse/" class="md-nav__link">
        Rate-coded synapses
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/SpikeSynapse/" class="md-nav__link">
        Spiking synapses
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Populations/" class="md-nav__link">
        Populations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Projections/" class="md-nav__link">
        Projections
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Connector/" class="md-nav__link">
        Connectivity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Inputs/" class="md-nav__link">
        Setting inputs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Simulation/" class="md-nav__link">
        Simulation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/NumericalMethods/" class="md-nav__link">
        Equations and numerical methods
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Recording/" class="md-nav__link">
        Recording with Monitors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Saving/" class="md-nav__link">
        Saving and loading a network
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Network/" class="md-nav__link">
        Parallel simulations and networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Hybrid/" class="md-nav__link">
        Hybrid networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/StructuralPlasticity/" class="md-nav__link">
        Structural plasticity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/ConvolutionalNetworks/" class="md-nav__link">
        Convolution and pooling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Notebooks/" class="md-nav__link">
        Notebooks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Reporting/" class="md-nav__link">
        Reporting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../manual/Logging/" class="md-nav__link">
        Logging with tensorboard
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ANNarchy/" class="md-nav__link">
        Module ANNarchy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Neuron/" class="md-nav__link">
        Neuron
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../SpecificNeuron/" class="md-nav__link">
        Built-in neuron types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Synapse/" class="md-nav__link">
        Synapse
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../SpecificSynapse/" class="md-nav__link">
        Built-in synapse types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Population/" class="md-nav__link">
        Population
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../SpecificPopulation/" class="md-nav__link">
        Specific Populations
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Projection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Projection
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection" class="md-nav__link">
    Projection
  </a>
  
    <nav class="md-nav" aria-label="Projection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.dendrites" class="md-nav__link">
    dendrites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.nb_synapses" class="md-nav__link">
    nb_synapses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__getattr__" class="md-nav__link">
    __getattr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__getitem__" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__iter__" class="md-nav__link">
    __iter__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__len__" class="md-nav__link">
    __len__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__setattr__" class="md-nav__link">
    __setattr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_all_to_all" class="md-nav__link">
    connect_all_to_all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_dog" class="md-nav__link">
    connect_dog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_fixed_number_post" class="md-nav__link">
    connect_fixed_number_post()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_fixed_number_pre" class="md-nav__link">
    connect_fixed_number_pre()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_fixed_probability" class="md-nav__link">
    connect_fixed_probability()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_from_file" class="md-nav__link">
    connect_from_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_from_matrix" class="md-nav__link">
    connect_from_matrix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_from_sparse" class="md-nav__link">
    connect_from_sparse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_gaussian" class="md-nav__link">
    connect_gaussian()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_one_to_one" class="md-nav__link">
    connect_one_to_one()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_with_func" class="md-nav__link">
    connect_with_func()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connectivity_matrix" class="md-nav__link">
    connectivity_matrix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.dendrite" class="md-nav__link">
    dendrite()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.disable_learning" class="md-nav__link">
    disable_learning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.enable_learning" class="md-nav__link">
    enable_learning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.nb_synapses_per_dendrite" class="md-nav__link">
    nb_synapses_per_dendrite()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.receptive_fields" class="md-nav__link">
    receptive_fields()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.reset" class="md-nav__link">
    reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.save_connectivity" class="md-nav__link">
    save_connectivity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.set" class="md-nav__link">
    set()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.size_in_bytes" class="md-nav__link">
    size_in_bytes()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.start_creating" class="md-nav__link">
    start_creating()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.start_pruning" class="md-nav__link">
    start_pruning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.stop_creating" class="md-nav__link">
    stop_creating()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.stop_pruning" class="md-nav__link">
    stop_pruning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.synapse" class="md-nav__link">
    synapse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../SpecificProjection/" class="md-nav__link">
        Specific Projections
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Dendrite/" class="md-nav__link">
        Dendrite
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Monitor/" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../RandomDistribution/" class="md-nav__link">
        Random Distributions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Network/" class="md-nav__link">
        Network
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../IO/" class="md-nav__link">
        Saving / Loading
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Utilities/" class="md-nav__link">
        Reporting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Hybrid/" class="md-nav__link">
        Hybrid networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Convolution/" class="md-nav__link">
        Convolution and Pooling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Logging/" class="md-nav__link">
        Logging with tensorboard
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Examples
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/List/" class="md-nav__link">
        List of notebooks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/NeuralField/" class="md-nav__link">
        Neural Field
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/BarLearning/" class="md-nav__link">
        Bar Learning
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Image/" class="md-nav__link">
        Image
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Webcam/" class="md-nav__link">
        Webcam
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/MultipleNetworks/" class="md-nav__link">
        Multiple networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/StructuralPlasticity/" class="md-nav__link">
        Structural plasticity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Izhikevich/" class="md-nav__link">
        Izhikevich
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/GapJunctions/" class="md-nav__link">
        Gap junctions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/HodgkinHuxley/" class="md-nav__link">
        Hodgkin-Huxley
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/COBA/" class="md-nav__link">
        COBA
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/STP/" class="md-nav__link">
        STP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/SimpleSTDP/" class="md-nav__link">
        STDP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Ramp/" class="md-nav__link">
        Ramp
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Hybrid/" class="md-nav__link">
        Hybrid
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/BayesianOptimization/" class="md-nav__link">
        Bayesian optimization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../example/BasalGanglia/" class="md-nav__link">
        Basal Ganglia
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../License/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection" class="md-nav__link">
    Projection
  </a>
  
    <nav class="md-nav" aria-label="Projection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.dendrites" class="md-nav__link">
    dendrites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.nb_synapses" class="md-nav__link">
    nb_synapses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__getattr__" class="md-nav__link">
    __getattr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__getitem__" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__iter__" class="md-nav__link">
    __iter__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__len__" class="md-nav__link">
    __len__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.__setattr__" class="md-nav__link">
    __setattr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_all_to_all" class="md-nav__link">
    connect_all_to_all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_dog" class="md-nav__link">
    connect_dog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_fixed_number_post" class="md-nav__link">
    connect_fixed_number_post()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_fixed_number_pre" class="md-nav__link">
    connect_fixed_number_pre()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_fixed_probability" class="md-nav__link">
    connect_fixed_probability()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_from_file" class="md-nav__link">
    connect_from_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_from_matrix" class="md-nav__link">
    connect_from_matrix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_from_sparse" class="md-nav__link">
    connect_from_sparse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_gaussian" class="md-nav__link">
    connect_gaussian()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_one_to_one" class="md-nav__link">
    connect_one_to_one()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connect_with_func" class="md-nav__link">
    connect_with_func()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.connectivity_matrix" class="md-nav__link">
    connectivity_matrix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.dendrite" class="md-nav__link">
    dendrite()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.disable_learning" class="md-nav__link">
    disable_learning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.enable_learning" class="md-nav__link">
    enable_learning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.nb_synapses_per_dendrite" class="md-nav__link">
    nb_synapses_per_dendrite()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.receptive_fields" class="md-nav__link">
    receptive_fields()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.reset" class="md-nav__link">
    reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.save_connectivity" class="md-nav__link">
    save_connectivity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.set" class="md-nav__link">
    set()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.size_in_bytes" class="md-nav__link">
    size_in_bytes()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.start_creating" class="md-nav__link">
    start_creating()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.start_pruning" class="md-nav__link">
    start_pruning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.stop_creating" class="md-nav__link">
    stop_creating()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.stop_pruning" class="md-nav__link">
    stop_pruning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ANNarchy.core.Projection.Projection.synapse" class="md-nav__link">
    synapse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://bitbucket.org/ANNarchy/ANNarchy/src/default/docs/API/Projection.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="projection">Projection<a class="headerlink" href="#projection" title="Permanent link">#</a></h1>
<p>The module <code>ANNarchy.Projection</code> defines projections at the population
level. A projection is an ensemble of connections (or synapses) between
a subset of a population (called the pre-synaptic population) and a
subset of another population (the post-synaptic population), with a
specific connection type. The pre- and post-synaptic populations may be
the same.</p>


  <div class="doc doc-object doc-class">



<h2 id="ANNarchy.core.Projection.Projection" class="doc doc-heading">
        <code>Projection</code>



<a href="#ANNarchy.core.Projection.Projection" class="headerlink" title="Permanent link">#</a></h2>

    <div class="doc doc-contents first">

      <p>Container for all the synapses of the same type between two populations.</p>




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="ANNarchy.core.Projection.Projection.dendrites" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dendrites</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.dendrites" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Iteratively returns the dendrites corresponding to this projection.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="ANNarchy.core.Projection.Projection.nb_synapses" class="doc doc-heading">
<code class="highlight language-python"><span class="n">nb_synapses</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.nb_synapses" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Total number of synapses in the projection.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="ANNarchy.core.Projection.Projection.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.size" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Number of post-synaptic neurons receiving synapses.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.__getattr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.__getattr__" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Method called when accessing an attribute.</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="s2">&quot; Method called when accessing an attribute.&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;initialized&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;initialized&#39;</span><span class="p">):</span> <span class="c1"># Before the end of the constructor</span>
        <span class="k">return</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;attributes&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;plasticity&#39;</span><span class="p">,</span> <span class="s1">&#39;transmission&#39;</span><span class="p">,</span> <span class="s1">&#39;update&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_flag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;delay&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_delay</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">init</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_cython_attribute</span><span class="p">(</span> <span class="n">name</span> <span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">functions</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.__getitem__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.__getitem__" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Returns dendrite of the given position in the postsynaptic population.</p>
<p>If only one argument is given, it is a rank. If it is a tuple, it is coordinates.</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns dendrite of the given position in the postsynaptic population.</span>

<span class="sd">    If only one argument is given, it is a rank. If it is a tuple, it is coordinates.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dendrite</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dendrite</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">post</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">synapse</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disable_omp</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">copied</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.__init__" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>By default, the synapse only ensures linear synaptic transmission:</p>
<ul>
<li>For rate-coded populations: <code>psp = w * pre.r</code></li>
<li>For spiking populations: <code>g_target += w</code></li>
</ul>
<p>to modify this behavior one need to provide a Synapse object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pre</code></td>
        <td><code></code></td>
        <td><p>pre-synaptic population (either its name or a <code>Population</code> object).</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>post</code></td>
        <td><code></code></td>
        <td><p>post-synaptic population (either its name or a <code>Population</code> object).</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>target</code></td>
        <td><code></code></td>
        <td><p>type of the connection.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>synapse</code></td>
        <td><code></code></td>
        <td><p>a <code>Synapse</code> instance.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code></code></td>
        <td><p>unique name of the projection (optional, it defaults to <code>proj0</code>, <code>proj1</code>, etc).</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>disable_omp</code></td>
        <td><code></code></td>
        <td><p>especially for small- and mid-scale sparse spiking networks the parallelization of spike propagation is not scalable. But it can be enabled by setting this parameter to <code>False</code>.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">post</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">synapse</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disable_omp</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">copied</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    By default, the synapse only ensures linear synaptic transmission:</span>

<span class="sd">    * For rate-coded populations: ``psp = w * pre.r``</span>
<span class="sd">    * For spiking populations: ``g_target += w``</span>

<span class="sd">    to modify this behavior one need to provide a Synapse object.</span>

<span class="sd">    :param pre: pre-synaptic population (either its name or a ``Population`` object).</span>
<span class="sd">    :param post: post-synaptic population (either its name or a ``Population`` object).</span>
<span class="sd">    :param target: type of the connection.</span>
<span class="sd">    :param synapse: a ``Synapse`` instance.</span>
<span class="sd">    :param name: unique name of the projection (optional, it defaults to ``proj0``, ``proj1``, etc).</span>
<span class="sd">    :param disable_omp: especially for small- and mid-scale sparse spiking networks the parallelization of spike propagation is not scalable. But it can be enabled by setting this parameter to `False`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check if the network has already been compiled</span>
    <span class="k">if</span> <span class="n">Global</span><span class="o">.</span><span class="n">_network</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;compiled&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">copied</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;you cannot add a projection after the network has been compiled.&#39;</span><span class="p">)</span>

    <span class="c1"># Store the pre and post synaptic populations</span>
    <span class="c1"># the user provide either a string or a population object</span>
    <span class="c1"># in case of string, we need to search for the corresponding object</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pre</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">pop</span> <span class="ow">in</span> <span class="n">Global</span><span class="o">.</span><span class="n">_network</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;populations&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">pop</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">pre</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="n">pop</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">pop</span> <span class="ow">in</span> <span class="n">Global</span><span class="o">.</span><span class="n">_network</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;populations&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">pop</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">post</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">post</span> <span class="o">=</span> <span class="n">pop</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">post</span> <span class="o">=</span> <span class="n">post</span>

    <span class="c1"># Store the arguments</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">target</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">target</span>

    <span class="c1"># Add the target to the postsynaptic population</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>

    <span class="c1"># check if a synapse description is attached</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">synapse</span><span class="p">:</span>
        <span class="c1"># No synapse attached assume default synapse based on</span>
        <span class="c1"># presynaptic population.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">neuron_type</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;rate&#39;</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">ANNarchy.models.Synapses</span> <span class="kn">import</span> <span class="n">DefaultRateCodedSynapse</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span> <span class="o">=</span> <span class="n">DefaultRateCodedSynapse</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;rate&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">ANNarchy.models.Synapses</span> <span class="kn">import</span> <span class="n">DefaultSpikingSynapse</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span> <span class="o">=</span> <span class="n">DefaultSpikingSynapse</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;spike&#39;</span>

    <span class="k">elif</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">synapse</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span> <span class="o">=</span> <span class="n">synapse</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">neuron_type</span><span class="o">.</span><span class="n">type</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">synapse</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">neuron_type</span><span class="o">.</span><span class="n">type</span>

    <span class="c1"># Disable omp for spiking networks</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disable_omp</span> <span class="o">=</span> <span class="n">disable_omp</span>

    <span class="c1"># Analyse the parameters and variables</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">_analyse</span><span class="p">()</span>

    <span class="c1"># Create a default name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">Global</span><span class="o">.</span><span class="n">_network</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;projections&#39;</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;proj&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="c1"># Get a list of parameters and variables</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">init</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">description</span><span class="p">[</span><span class="s1">&#39;parameters&#39;</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init</span><span class="p">[</span><span class="n">param</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">param</span><span class="p">[</span><span class="s1">&#39;init&#39;</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">variables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">description</span><span class="p">[</span><span class="s1">&#39;variables&#39;</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">variables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">var</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init</span><span class="p">[</span><span class="n">var</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">var</span><span class="p">[</span><span class="s1">&#39;init&#39;</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">variables</span>

    <span class="c1"># Get a list of user-defined functions</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">functions</span> <span class="o">=</span> <span class="p">[</span><span class="n">func</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">description</span><span class="p">[</span><span class="s1">&#39;functions&#39;</span><span class="p">]]</span>

    <span class="c1"># Add the population to the global network</span>
    <span class="n">Global</span><span class="o">.</span><span class="n">_network</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;projections&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="c1"># Finalize initialization</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Cython instance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Connectivity</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_synapses</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_connection_method</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_connection_args</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_connection_delay</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_connector</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># List of post ranks is full by default, will be changed when the weights are created</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>

    <span class="c1"># Default configuration for connectivity</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_storage_format</span> <span class="o">=</span> <span class="s2">&quot;lil&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_storage_order</span> <span class="o">=</span> <span class="s2">&quot;post_to_pre&quot;</span>

    <span class="c1"># If a single weight value is used</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_single_constant_weight</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># If a dense matrix should be used instead of LIL</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dense_matrix</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Reporting</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;Specific&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Specific&quot;</span>

    <span class="c1"># Overwritten by derived classes, to add</span>
    <span class="c1"># additional code</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_specific_template</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Set to false  by derived classes to prevent saving of</span>
    <span class="c1">#  data, e. g. in case of weight-sharing projections</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_saveable</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># To allow case-specific adjustment of parallelization</span>
    <span class="c1"># parameters, e. g. openMP schedule, we introduce a</span>
    <span class="c1"># dictionary read by the ProjectionGenerator.</span>
    <span class="c1">#</span>
    <span class="c1"># Will be overwritten either by inherited classes or</span>
    <span class="c1"># by an omp_config provided to the compile() method.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_omp_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">#&#39;psp_schedule&#39;: &#39;schedule(dynamic)&#39;</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.__iter__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.__iter__" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Returns iteratively each dendrite in the population in ascending postsynaptic rank order.</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot; Returns iteratively each dendrite in the population in ascending postsynaptic rank order.&quot;</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">Dendrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.__len__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.__len__" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Number of postsynaptic neurons receiving synapses in this projection.</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot; Number of postsynaptic neurons receiving synapses in this projection.&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.__setattr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#ANNarchy.core.Projection.Projection.__setattr__" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Method called when setting an attribute.</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="s2">&quot; Method called when setting an attribute.&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;initialized&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;initialized&#39;</span><span class="p">):</span> <span class="c1"># Before the end of the constructor</span>
        <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;attributes&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;plasticity&#39;</span><span class="p">,</span> <span class="s1">&#39;transmission&#39;</span><span class="p">,</span> <span class="s1">&#39;update&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_flag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;delay&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_delay</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">init</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_cython_attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_all_to_all" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_all_to_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">storage_format</span><span class="o">=</span><span class="s1">&#39;lil&#39;</span><span class="p">,</span> <span class="n">storage_order</span><span class="o">=</span><span class="s1">&#39;post_to_pre&#39;</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_all_to_all" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds an all-to-all connection pattern between the two populations.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>weights</code></td>
        <td><code></code></td>
        <td><p>synaptic values, either a single value or a random distribution object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>synaptic delays, either a single value or a random distribution object (default=dt).</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>allow_self_connections</code></td>
        <td><code></code></td>
        <td><p>if True, self-connections between a neuron and itself are allowed (default = False if the pre- and post-populations are identical, True otherwise).</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>force_multiple_weights</code></td>
        <td><code></code></td>
        <td><p>if a single value is provided for <code>weights</code> and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting <code>force_multiple_weights</code> to True ensures that a value per synapse will be used.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>storage_format</code></td>
        <td><code></code></td>
        <td><p>for some of the default connection patterns, ANNarchy provide different storage formats. For all-to-all we support list-of-list ("lil") or compressed sparse row ("csr"), by default lil is chosen.</p></td>
        <td><code>&#39;lil&#39;</code></td>
      </tr>
      <tr>
        <td><code>storage_order</code></td>
        <td><code></code></td>
        <td><p>for some of the available storage formats, ANNarchy provides different storage orderings. For all-to-all we support pre_to_post and post_to_pre, by default post_to_pre is chosen.  Please note, the last two arguments should be changed carefully, as they can have large impact on the computational performance of ANNarchy.</p></td>
        <td><code>&#39;post_to_pre&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_all_to_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">storage_format</span><span class="o">=</span><span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="n">storage_order</span><span class="o">=</span><span class="s2">&quot;post_to_pre&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds an all-to-all connection pattern between the two populations.</span>

<span class="sd">    :param weights: synaptic values, either a single value or a random distribution object.</span>
<span class="sd">    :param delays: synaptic delays, either a single value or a random distribution object (default=dt).</span>
<span class="sd">    :param allow_self_connections: if True, self-connections between a neuron and itself are allowed (default = False if the pre- and post-populations are identical, True otherwise).</span>
<span class="sd">    :param force_multiple_weights: if a single value is provided for ``weights`` and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting ``force_multiple_weights`` to True ensures that a value per synapse will be used.</span>
<span class="sd">    :param storage_format: for some of the default connection patterns, ANNarchy provide different storage formats. For all-to-all we support list-of-list (&quot;lil&quot;) or compressed sparse row (&quot;csr&quot;), by default lil is chosen.</span>
<span class="sd">    :param storage_order: for some of the available storage formats, ANNarchy provides different storage orderings. For all-to-all we support pre_to_post and post_to_pre, by default post_to_pre is chosen.</span>

<span class="sd">    Please note, the last two arguments should be changed carefully, as they can have large impact on the computational performance of ANNarchy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pre_pop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">population</span>
    <span class="n">post_pop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">population</span>
    <span class="k">if</span> <span class="n">pre_pop</span> <span class="o">!=</span> <span class="n">post_pop</span><span class="p">:</span>
        <span class="n">allow_self_connections</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;All-to-All&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;All-to-All, weights </span><span class="si">%(weight)s</span><span class="s2">, delays </span><span class="si">%(delay)s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">weights</span><span class="p">),</span> <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">delays</span><span class="p">)}</span>

    <span class="c1"># Does the projection define a single non-plastic weight?</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_multiple_weights</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_single_constant_weight</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Is it a dense connectivity matrix?</span>
    <span class="k">if</span> <span class="n">allow_self_connections</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">):</span>
        <span class="c1"># TODO: for the moment disabled as it is not implemented</span>
        <span class="c1"># correctly (HD (15. Feb. 2019))</span>
        <span class="c1">#self._dense_matrix = True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dense_matrix</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Store the connectivity</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span> <span class="n">all_to_all</span><span class="p">,</span> <span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="p">,</span> <span class="n">storage_format</span><span class="p">,</span> <span class="n">storage_order</span><span class="p">),</span> <span class="n">delays</span><span class="p">,</span> <span class="n">storage_format</span><span class="p">,</span> <span class="n">storage_order</span> <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_dog" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_dog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amp_pos</span><span class="p">,</span> <span class="n">sigma_pos</span><span class="p">,</span> <span class="n">amp_neg</span><span class="p">,</span> <span class="n">sigma_neg</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_dog" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a Difference-Of-Gaussians connection pattern between the two populations.</p>
<p>Each neuron in the postsynaptic population is connected to a region of the presynaptic population centered around
the neuron with the same normalized coordinates using a Difference-Of-Gaussians profile.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>amp_pos</code></td>
        <td><code></code></td>
        <td><p>amplitude of the positive Gaussian function</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sigma_pos</code></td>
        <td><code></code></td>
        <td><p>width of the positive Gaussian function</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>amp_neg</code></td>
        <td><code></code></td>
        <td><p>amplitude of the negative Gaussian function</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sigma_neg</code></td>
        <td><code></code></td>
        <td><p>width of the negative Gaussian function</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>synaptic delay, either a single value or a random distribution object (default=dt).</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code></code></td>
        <td><p>proportion of <em>amp</em> below which synapses are not created (default: 0.01)</p></td>
        <td><code>0.01</code></td>
      </tr>
      <tr>
        <td><code>allow_self_connections</code></td>
        <td><code></code></td>
        <td><p>allows connections between a neuron and itself.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_dog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amp_pos</span><span class="p">,</span> <span class="n">sigma_pos</span><span class="p">,</span> <span class="n">amp_neg</span><span class="p">,</span> <span class="n">sigma_neg</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a Difference-Of-Gaussians connection pattern between the two populations.</span>

<span class="sd">    Each neuron in the postsynaptic population is connected to a region of the presynaptic population centered around</span>
<span class="sd">    the neuron with the same normalized coordinates using a Difference-Of-Gaussians profile.</span>

<span class="sd">    :param amp_pos: amplitude of the positive Gaussian function</span>
<span class="sd">    :param sigma_pos: width of the positive Gaussian function</span>
<span class="sd">    :param amp_neg: amplitude of the negative Gaussian function</span>
<span class="sd">    :param sigma_neg: width of the negative Gaussian function</span>
<span class="sd">    :param delays: synaptic delay, either a single value or a random distribution object (default=dt).</span>
<span class="sd">    :param limit: proportion of *amp* below which synapses are not created (default: 0.01)</span>
<span class="sd">    :param allow_self_connections: allows connections between a neuron and itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">!=</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">:</span>
        <span class="n">allow_self_connections</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">):</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;DoG connector is only possible on whole populations, not PopulationViews.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;Difference-of-Gaussian&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Difference-of-Gaussian, $A^+ </span><span class="si">%(Aplus)s</span><span class="s2">, $\sigma^+$ </span><span class="si">%(sigmaplus)s</span><span class="s2">, $A^- </span><span class="si">%(Aminus)s</span><span class="s2">, $\sigma^-$ </span><span class="si">%(sigmaminus)s</span><span class="s2">, delays </span><span class="si">%(delay)s</span><span class="s2">&quot;</span><span class="o">%</span> <span class="p">{</span><span class="s1">&#39;Aplus&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">amp_pos</span><span class="p">),</span> <span class="s1">&#39;sigmaplus&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">sigma_pos</span><span class="p">),</span> <span class="s1">&#39;Aminus&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">amp_neg</span><span class="p">),</span> <span class="s1">&#39;sigmaminus&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">sigma_neg</span><span class="p">),</span> <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">delays</span><span class="p">)}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span> <span class="n">dog</span><span class="p">,</span> <span class="p">(</span><span class="n">amp_pos</span><span class="p">,</span> <span class="n">sigma_pos</span><span class="p">,</span> <span class="n">amp_neg</span><span class="p">,</span> <span class="n">sigma_neg</span><span class="p">,</span> <span class="n">delays</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="p">,</span>  <span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="s2">&quot;post_to_pre&quot;</span><span class="p">),</span> <span class="n">delays</span><span class="p">,</span>  <span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="s2">&quot;post_to_pre&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_fixed_number_post" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_fixed_number_post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_fixed_number_post" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a connection pattern between the two populations with a fixed number of post-synaptic neurons.</p>
<p>Each neuron in the pre-synaptic population sends connections to a fixed number of neurons of the post-synaptic population chosen randomly.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>number</code></td>
        <td><code></code></td>
        <td><p>number of synapses per pre-synaptic neuron.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>weights</code></td>
        <td><code></code></td>
        <td><p>either a single value for all synapses or a RandomDistribution object.</p></td>
        <td><code>1.0</code></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>either a single value for all synapses or a RandomDistribution object (default = dt)</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>allow_self_connections</code></td>
        <td><code></code></td>
        <td><p>defines if self-connections are allowed (default=False)</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>force_multiple_weights</code></td>
        <td><code></code></td>
        <td><p>if a single value is provided for <code>weights</code> and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting <code>force_multiple_weights</code> to True ensures that a value per synapse will be used.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_fixed_number_post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a connection pattern between the two populations with a fixed number of post-synaptic neurons.</span>

<span class="sd">    Each neuron in the pre-synaptic population sends connections to a fixed number of neurons of the post-synaptic population chosen randomly.</span>

<span class="sd">    :param number: number of synapses per pre-synaptic neuron.</span>
<span class="sd">    :param weights: either a single value for all synapses or a RandomDistribution object.</span>
<span class="sd">    :param delays: either a single value for all synapses or a RandomDistribution object (default = dt)</span>
<span class="sd">    :param allow_self_connections: defines if self-connections are allowed (default=False)</span>
<span class="sd">    :param force_multiple_weights: if a single value is provided for ``weights`` and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting ``force_multiple_weights`` to True ensures that a value per synapse will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">!=</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">:</span>
        <span class="n">allow_self_connections</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="n">number</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;connect_fixed_number_post: the number of post-synaptic neurons exceeds the size of the population.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;Random Divergent&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Random Divergent 1 $</span><span class="se">\\</span><span class="s2">rightarrow$ </span><span class="si">%(number)s</span><span class="s2">, weights </span><span class="si">%(weight)s</span><span class="s2">, delays </span><span class="si">%(delay)s</span><span class="s2">&quot;</span><span class="o">%</span> <span class="p">{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">weights</span><span class="p">),</span> <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">delays</span><span class="p">),</span> <span class="s1">&#39;number&#39;</span><span class="p">:</span> <span class="n">number</span><span class="p">}</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_multiple_weights</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_single_constant_weight</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span> <span class="n">fixed_number_post</span><span class="p">,</span> <span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="p">,</span> <span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="s2">&quot;post_to_pre&quot;</span><span class="p">),</span> <span class="n">delays</span><span class="p">,</span> <span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="s2">&quot;post_to_pre&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_fixed_number_pre" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_fixed_number_pre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">storage_format</span><span class="o">=</span><span class="s1">&#39;lil&#39;</span><span class="p">,</span> <span class="n">storage_order</span><span class="o">=</span><span class="s1">&#39;post_to_pre&#39;</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_fixed_number_pre" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a connection pattern between the two populations with a fixed number of pre-synaptic neurons.</p>
<p>Each neuron in the postsynaptic population receives connections from a fixed number of neurons of the presynaptic population chosen randomly.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>number</code></td>
        <td><code></code></td>
        <td><p>number of synapses per postsynaptic neuron.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>weights</code></td>
        <td><code></code></td>
        <td><p>either a single value for all synapses or a RandomDistribution object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>either a single value for all synapses or a RandomDistribution object (default = dt)</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>allow_self_connections</code></td>
        <td><code></code></td>
        <td><p>defines if self-connections are allowed (default=False).</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>force_multiple_weights</code></td>
        <td><code></code></td>
        <td><p>if a single value is provided for <code>weights</code> and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting <code>force_multiple_weights</code> to True ensures that a value per synapse will be used.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_fixed_number_pre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">storage_format</span><span class="o">=</span><span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="n">storage_order</span><span class="o">=</span><span class="s2">&quot;post_to_pre&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a connection pattern between the two populations with a fixed number of pre-synaptic neurons.</span>

<span class="sd">    Each neuron in the postsynaptic population receives connections from a fixed number of neurons of the presynaptic population chosen randomly.</span>

<span class="sd">    :param number: number of synapses per postsynaptic neuron.</span>
<span class="sd">    :param weights: either a single value for all synapses or a RandomDistribution object.</span>
<span class="sd">    :param delays: either a single value for all synapses or a RandomDistribution object (default = dt)</span>
<span class="sd">    :param allow_self_connections: defines if self-connections are allowed (default=False).</span>
<span class="sd">    :param force_multiple_weights: if a single value is provided for ``weights`` and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting ``force_multiple_weights`` to True ensures that a value per synapse will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">!=</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">:</span>
        <span class="n">allow_self_connections</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="n">number</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;connect_fixed_number_pre: the number of pre-synaptic neurons exceeds the size of the population.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;Random Convergent&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Random Convergent </span><span class="si">%(number)s</span><span class="s2"> $</span><span class="se">\\</span><span class="s2">rightarrow$ 1, weights </span><span class="si">%(weight)s</span><span class="s2">, delays </span><span class="si">%(delay)s</span><span class="s2">&quot;</span><span class="o">%</span> <span class="p">{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">weights</span><span class="p">),</span> <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">delays</span><span class="p">),</span> <span class="s1">&#39;number&#39;</span><span class="p">:</span> <span class="n">number</span><span class="p">}</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_multiple_weights</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_single_constant_weight</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span> <span class="n">fixed_number_pre</span><span class="p">,</span> <span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="p">,</span> <span class="n">storage_format</span><span class="p">,</span> <span class="n">storage_order</span><span class="p">),</span> <span class="n">delays</span><span class="p">,</span> <span class="n">storage_format</span><span class="p">,</span> <span class="n">storage_order</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_fixed_probability" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_fixed_probability</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">probability</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">storage_format</span><span class="o">=</span><span class="s1">&#39;lil&#39;</span><span class="p">,</span> <span class="n">storage_order</span><span class="o">=</span><span class="s1">&#39;post_to_pre&#39;</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_fixed_probability" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a probabilistic connection pattern between the two populations.</p>
<p>Each neuron in the postsynaptic population is connected to neurons of the presynaptic population with the given probability. Self-connections are avoided by default.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>probability</code></td>
        <td><code></code></td>
        <td><p>probability that a synapse is created.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>weights</code></td>
        <td><code></code></td>
        <td><p>either a single value for all synapses or a RandomDistribution object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>either a single value for all synapses or a RandomDistribution object (default = dt)</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>allow_self_connections</code></td>
        <td><code></code></td>
        <td><p>defines if self-connections are allowed (default=False).</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>force_multiple_weights</code></td>
        <td><code></code></td>
        <td><p>if a single value is provided for <code>weights</code> and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting <code>force_multiple_weights</code> to True ensures that a value per synapse will be used.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>storage_format</code></td>
        <td><code></code></td>
        <td><p>for some of the default connection patterns ANNarchy provide different storage formats. For all-to-all we support list-of-list ("lil") or compressed sparse row ("csr"), by default lil is chosen.</p></td>
        <td><code>&#39;lil&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_fixed_probability</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">probability</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">storage_format</span><span class="o">=</span><span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="n">storage_order</span><span class="o">=</span><span class="s2">&quot;post_to_pre&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a probabilistic connection pattern between the two populations.</span>

<span class="sd">    Each neuron in the postsynaptic population is connected to neurons of the presynaptic population with the given probability. Self-connections are avoided by default.</span>

<span class="sd">    :param probability: probability that a synapse is created.</span>
<span class="sd">    :param weights: either a single value for all synapses or a RandomDistribution object.</span>
<span class="sd">    :param delays: either a single value for all synapses or a RandomDistribution object (default = dt)</span>
<span class="sd">    :param allow_self_connections: defines if self-connections are allowed (default=False).</span>
<span class="sd">    :param force_multiple_weights: if a single value is provided for ``weights`` and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting ``force_multiple_weights`` to True ensures that a value per synapse will be used.</span>
<span class="sd">    :param storage_format: for some of the default connection patterns ANNarchy provide different storage formats. For all-to-all we support list-of-list (&quot;lil&quot;) or compressed sparse row (&quot;csr&quot;), by default lil is chosen.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">!=</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">:</span>
        <span class="n">allow_self_connections</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;Random&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Random, sparseness </span><span class="si">%(proba)s</span><span class="s2">, weights </span><span class="si">%(weight)s</span><span class="s2">, delays </span><span class="si">%(delay)s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">weights</span><span class="p">),</span> <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">delays</span><span class="p">),</span> <span class="s1">&#39;proba&#39;</span><span class="p">:</span> <span class="n">probability</span><span class="p">}</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_multiple_weights</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_single_constant_weight</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span> <span class="n">fixed_probability</span><span class="p">,</span> <span class="p">(</span><span class="n">probability</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="p">,</span> <span class="n">storage_format</span><span class="p">,</span> <span class="n">storage_order</span><span class="p">),</span> <span class="n">delays</span><span class="p">,</span> <span class="n">storage_format</span><span class="p">,</span> <span class="n">storage_order</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_from_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_from_file" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds the connectivity matrix using data saved using the Projection.save_connectivity() method (not save()!).</p>
<p>Admissible file formats are compressed Numpy files (.npz), gunzipped binary text files (.gz) or binary text files.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filename</code></td>
        <td><code></code></td>
        <td><p>file where the connections were saved.  .. note::  Only the ranks, weights and delays are loaded, not the other variables.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds the connectivity matrix using data saved using the Projection.save_connectivity() method (not save()!).</span>

<span class="sd">    Admissible file formats are compressed Numpy files (.npz), gunzipped binary text files (.gz) or binary text files.</span>

<span class="sd">    :param filename: file where the connections were saved.</span>

<span class="sd">    .. note::</span>

<span class="sd">        Only the ranks, weights and delays are loaded, not the other variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create an empty LIL object</span>
    <span class="n">lil</span> <span class="o">=</span> <span class="n">LILConnectivity</span><span class="p">()</span>

    <span class="c1"># Load the data</span>
    <span class="kn">from</span> <span class="nn">ANNarchy.core.IO</span> <span class="kn">import</span> <span class="n">_load_connectivity_data</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">_load_connectivity_data</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;connect_from_file(): Unable to load the data&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;into the projection.&#39;</span><span class="p">)</span>

    <span class="c1"># Load the LIL object</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Size</span>
        <span class="n">lil</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span>
        <span class="n">lil</span><span class="o">.</span><span class="n">nb_synapses</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;nb_synapses&#39;</span><span class="p">]</span>

        <span class="c1"># Ranks</span>
        <span class="n">lil</span><span class="o">.</span><span class="n">post_rank</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;post_ranks&#39;</span><span class="p">])</span>
        <span class="n">lil</span><span class="o">.</span><span class="n">pre_rank</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;pre_ranks&#39;</span><span class="p">])</span>

        <span class="c1"># Weights</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_single_constant_weight</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">lil</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">])]]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">],</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,))</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_single_constant_weight</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">lil</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">])]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lil</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">]</span>

        <span class="c1"># Delays</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;delay&#39;</span><span class="p">]:</span>
            <span class="n">lil</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;delay&#39;</span><span class="p">]</span>
        <span class="n">lil</span><span class="o">.</span><span class="n">max_delay</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;max_delay&#39;</span><span class="p">]</span>
        <span class="n">lil</span><span class="o">.</span><span class="n">uniform_delay</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;uniform_delay&#39;</span><span class="p">]</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;Unable to load the data&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;into the projection.&#39;</span><span class="p">)</span>

    <span class="c1"># Store the synapses</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;From File&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;From File&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_from_lil</span><span class="p">,</span> <span class="p">(</span><span class="n">lil</span><span class="p">,),</span> <span class="n">lil</span><span class="o">.</span><span class="n">max_delay</span> <span class="k">if</span> <span class="n">lil</span><span class="o">.</span><span class="n">uniform_delay</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">lil</span><span class="o">.</span><span class="n">delay</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_from_matrix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_from_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">pre_post</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_from_matrix" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a connection pattern according to a dense connectivity matrix.</p>
<p>The matrix must be N*M, where N is the number of neurons in the post-synaptic population and M in the pre-synaptic one. Lists of lists must have the same size.</p>
<p>If a synapse should not be created, the weight value should be None.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>weights</code></td>
        <td><code></code></td>
        <td><p>a matrix or list of lists representing the weights. If a value is None, the synapse will not be created.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>a matrix or list of lists representing the delays. Must represent the same synapses as weights. If the argument is omitted, delays are 0.</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>pre_post</code></td>
        <td><code></code></td>
        <td><p>states which index is first. By default, the first dimension is related to the post-synaptic population. If <code>pre_post</code> is True, the first dimension is the pre-synaptic population.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_from_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">pre_post</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a connection pattern according to a dense connectivity matrix.</span>

<span class="sd">    The matrix must be N*M, where N is the number of neurons in the post-synaptic population and M in the pre-synaptic one. Lists of lists must have the same size.</span>

<span class="sd">    If a synapse should not be created, the weight value should be None.</span>

<span class="sd">    :param weights: a matrix or list of lists representing the weights. If a value is None, the synapse will not be created.</span>
<span class="sd">    :param delays: a matrix or list of lists representing the delays. Must represent the same synapses as weights. If the argument is omitted, delays are 0.</span>
<span class="sd">    :param pre_post: states which index is first. By default, the first dimension is related to the post-synaptic population. If ``pre_post`` is True, the first dimension is the pre-synaptic population.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Store the synapses</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;Connectivity matrix&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Connectivity matrix&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">weights</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;connect_from_matrix(): You must provide a dense 2D matrix.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_from_matrix</span><span class="p">,</span> <span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="p">,</span> <span class="n">pre_post</span><span class="p">),</span> <span class="n">delays</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_from_sparse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_from_sparse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_from_sparse" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a connectivity pattern using a Scipy sparse matrix for the weights and (optionally) delays.</p>
<p>Warning: a sparse matrix has pre-synaptic ranks as first dimension.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>weights</code></td>
        <td><code></code></td>
        <td><p>a sparse lil_matrix object created from scipy.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>the value of the constant delay (default: dt).</p></td>
        <td><code>0.0</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_from_sparse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a connectivity pattern using a Scipy sparse matrix for the weights and (optionally) delays.</span>

<span class="sd">    Warning: a sparse matrix has pre-synaptic ranks as first dimension.</span>

<span class="sd">    :param weights: a sparse lil_matrix object created from scipy.</span>
<span class="sd">    :param delays: the value of the constant delay (default: dt).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">scipy.sparse</span> <span class="kn">import</span> <span class="n">lil_matrix</span><span class="p">,</span> <span class="n">csr_matrix</span><span class="p">,</span> <span class="n">csc_matrix</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;connect_from_sparse(): scipy is not installed, sparse matrices can not be loaded.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="p">(</span><span class="n">lil_matrix</span><span class="p">,</span> <span class="n">csr_matrix</span><span class="p">,</span> <span class="n">csc_matrix</span><span class="p">)):</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;connect_from_sparse(): only lil, csr and csc matrices are allowed for now.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">delays</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;connect_from_sparse(): only constant delays are allowed for sparse matrices.&quot;</span><span class="p">)</span>

    <span class="n">weights</span> <span class="o">=</span> <span class="n">csc_matrix</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>

    <span class="c1"># if weights[weights.nonzero()].max() == weights[weights.nonzero()].min() :</span>
    <span class="c1">#     self._single_constant_weight = True</span>

    <span class="c1"># Store the synapses</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;Sparse connectivity matrix&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Sparse connectivity matrix&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_from_sparse</span><span class="p">,</span> <span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="p">),</span> <span class="n">delays</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_gaussian" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_gaussian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amp</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_gaussian" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a Gaussian connection pattern between the two populations.</p>
<p>Each neuron in the postsynaptic population is connected to a region of the presynaptic population centered around
the neuron with the same normalized coordinates using a Gaussian profile.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>amp</code></td>
        <td><code></code></td>
        <td><p>amplitude of the Gaussian function</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sigma</code></td>
        <td><code></code></td>
        <td><p>width of the Gaussian function</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>synaptic delay, either a single value or a random distribution object (default=dt).</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code></code></td>
        <td><p>proportion of <em>amp</em> below which synapses are not created (default: 0.01)</p></td>
        <td><code>0.01</code></td>
      </tr>
      <tr>
        <td><code>allow_self_connections</code></td>
        <td><code></code></td>
        <td><p>allows connections between a neuron and itself.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_gaussian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amp</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a Gaussian connection pattern between the two populations.</span>

<span class="sd">    Each neuron in the postsynaptic population is connected to a region of the presynaptic population centered around</span>
<span class="sd">    the neuron with the same normalized coordinates using a Gaussian profile.</span>

<span class="sd">    :param amp: amplitude of the Gaussian function</span>
<span class="sd">    :param sigma: width of the Gaussian function</span>
<span class="sd">    :param delays: synaptic delay, either a single value or a random distribution object (default=dt).</span>
<span class="sd">    :param limit: proportion of *amp* below which synapses are not created (default: 0.01)</span>
<span class="sd">    :param allow_self_connections: allows connections between a neuron and itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">!=</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">:</span>
        <span class="n">allow_self_connections</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">):</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;Gaussian connector is only possible on whole populations, not PopulationViews.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;Gaussian&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Gaussian, $A$ </span><span class="si">%(A)s</span><span class="s2">, $\sigma$ </span><span class="si">%(sigma)s</span><span class="s2">, delays </span><span class="si">%(delay)s</span><span class="s2">&quot;</span><span class="o">%</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">amp</span><span class="p">),</span> <span class="s1">&#39;sigma&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">sigma</span><span class="p">),</span> <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">delays</span><span class="p">)}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span> <span class="n">gaussian</span><span class="p">,</span> <span class="p">(</span><span class="n">amp</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">delays</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">allow_self_connections</span><span class="p">,</span> <span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="s2">&quot;post_to_pre&quot;</span><span class="p">),</span> <span class="n">delays</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_one_to_one" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_one_to_one</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_one_to_one" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a one-to-one connection pattern between the two populations.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>weights</code></td>
        <td><code></code></td>
        <td><p>initial synaptic values, either a single value (float) or a random distribution object.</p></td>
        <td><code>1.0</code></td>
      </tr>
      <tr>
        <td><code>delays</code></td>
        <td><code></code></td>
        <td><p>synaptic delays, either a single value or a random distribution object (default=dt).</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>force_multiple_weights</code></td>
        <td><code></code></td>
        <td><p>if a single value is provided for <code>weights</code> and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting <code>force_multiple_weights</code> to True ensures that a value per synapse will be used.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_one_to_one</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">delays</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">force_multiple_weights</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a one-to-one connection pattern between the two populations.</span>

<span class="sd">    :param weights: initial synaptic values, either a single value (float) or a random distribution object.</span>
<span class="sd">    :param delays: synaptic delays, either a single value or a random distribution object (default=dt).</span>
<span class="sd">    :param force_multiple_weights: if a single value is provided for ``weights`` and there is no learning, a single weight value will be used for the whole projection instead of one per synapse. Setting ``force_multiple_weights`` to True ensures that a value per synapse will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">size</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_warning</span><span class="p">(</span><span class="s2">&quot;connect_one_to_one() between&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;with target&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2"> the two populations have different sizes, please check the connection pattern is what you expect.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;One-to-One&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;One-to-One, weights </span><span class="si">%(weight)s</span><span class="s2">, delays </span><span class="si">%(delay)s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">weights</span><span class="p">),</span> <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">_process_random</span><span class="p">(</span><span class="n">delays</span><span class="p">)}</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_multiple_weights</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_single_constant_weight</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span> <span class="n">one_to_one</span><span class="p">,</span> <span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="n">delays</span><span class="p">,</span> <span class="s2">&quot;lil&quot;</span><span class="p">,</span> <span class="s2">&quot;post_to_pre&quot;</span><span class="p">),</span> <span class="n">delays</span> <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connect_with_func" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_with_func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connect_with_func" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Builds a connection pattern based on a user-defined method.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>method</code></td>
        <td><code></code></td>
        <td><p>method to call. The method <strong>must</strong> return a CSR object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>args</code></td>
        <td><code></code></td>
        <td><p>list of arguments needed by the function</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_with_func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a connection pattern based on a user-defined method.</span>

<span class="sd">    :param method: method to call. The method **must** return a CSR object.</span>
<span class="sd">    :param args: list of arguments needed by the function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Invoke the method directly, we need the delays already....</span>
    <span class="n">synapses</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
    <span class="n">synapses</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>

    <span class="c1"># Treat delays</span>
    <span class="k">if</span> <span class="n">synapses</span><span class="o">.</span><span class="n">uniform_delay</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="c1"># uniform delay</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">synapses</span><span class="o">.</span><span class="n">max_delay</span> <span class="o">*</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">Uniform</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="n">synapses</span><span class="o">.</span><span class="n">max_delay</span> <span class="o">*</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">])</span> <span class="c1"># Just to trick _store_connectivity(), the real delays are in the CSR</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_store_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_from_lil</span><span class="p">,</span> <span class="p">(</span><span class="n">synapses</span><span class="p">,</span> <span class="p">),</span> <span class="n">d</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;User-defined&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connector_description</span> <span class="o">=</span> <span class="s2">&quot;Created by the method &quot;</span> <span class="o">+</span> <span class="n">method</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.connectivity_matrix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connectivity_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.connectivity_matrix" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Returns a dense connectivity matrix (2D Numpy array) representing the connections between the pre- and post-populations.</p>
<p>The first index of the matrix represents post-synaptic neurons, the second the pre-synaptic ones.</p>
<p>If PopulationViews were used for creating the projection, the matrix is expanded to the whole populations by default.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fill</code></td>
        <td><code></code></td>
        <td><p>value to put in the matrix when there is no connection (default: 0.0).</p></td>
        <td><code>0.0</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connectivity_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a dense connectivity matrix (2D Numpy array) representing the connections between the pre- and post-populations.</span>

<span class="sd">    The first index of the matrix represents post-synaptic neurons, the second the pre-synaptic ones.</span>

<span class="sd">    If PopulationViews were used for creating the projection, the matrix is expanded to the whole populations by default.</span>

<span class="sd">    :param fill: value to put in the matrix when there is no connection (default: 0.0).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">):</span>
        <span class="n">size_pre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">size</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">size_pre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">size</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="n">PopulationView</span><span class="p">):</span>
        <span class="n">size_post</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">size</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">size_post</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">size</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">size_post</span><span class="p">,</span> <span class="n">size_pre</span><span class="p">))</span> <span class="o">*</span> <span class="n">fill</span>
    <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span><span class="p">:</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">rank</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">preranks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">pre_rank</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
            <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">get_dendrite_w</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;The connectivity matrix can only be accessed after compilation&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">res</span><span class="p">[</span><span class="n">rank</span><span class="p">,</span> <span class="n">preranks</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.dendrite" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dendrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">post</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.dendrite" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Returns the dendrite of a postsynaptic neuron according to its rank.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>post</code></td>
        <td><code></code></td>
        <td><p>can be either the rank or the coordinates of the post-synaptic neuron.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dendrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">post</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the dendrite of a postsynaptic neuron according to its rank.</span>

<span class="sd">    :param post: can be either the rank or the coordinates of the post-synaptic neuron.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;dendrites can only be accessed after compilation.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">rank</span> <span class="o">=</span> <span class="n">post</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">rank</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">rank_from_coordinates</span><span class="p">(</span><span class="n">post</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">rank</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Dendrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rank</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">rank</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot; The neuron of rank &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">rank</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; has no dendrite in this projection.&quot;</span><span class="p">,</span> <span class="n">exit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.disable_learning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_learning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.disable_learning" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Disables learning for all synapses of this projection.</p>
<p>The effect depends on the rate-coded or spiking nature of the projection:</p>
<ul>
<li>
<p><strong>Rate-coded</strong>: the updating of all synaptic variables is disabled (including the weights <code>w</code>). This is equivalent to <code>proj.update = False</code>.</p>
</li>
<li>
<p><strong>Spiking</strong>: the updating of the weights <code>w</code> is disabled, but all other variables are updated. This is equivalent to <code>proj.plasticity = False</code>.</p>
</li>
</ul>
<p>This method is useful when performing some tests on a trained network without messing with the learned weights.</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">disable_learning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Disables learning for all synapses of this projection.</span>

<span class="sd">    The effect depends on the rate-coded or spiking nature of the projection:</span>

<span class="sd">    * **Rate-coded**: the updating of all synaptic variables is disabled (including the weights ``w``). This is equivalent to ``proj.update = False``.</span>

<span class="sd">    * **Spiking**: the updating of the weights ``w`` is disabled, but all other variables are updated. This is equivalent to ``proj.plasticity = False``.</span>

<span class="sd">    This method is useful when performing some tests on a trained network without messing with the learned weights.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">synapse_type</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;rate&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">_set_update</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">_set_plasticity</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_warning</span><span class="p">(</span><span class="s1">&#39;disabling learning is only possible after compile().&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.enable_learning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_learning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.enable_learning" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Enables learning for all the synapses of this projection.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>period</code></td>
        <td><code></code></td>
        <td><p>determines how often the synaptic variables will be updated.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>offset</code></td>
        <td><code></code></td>
        <td><p>determines the offset at which the synaptic variables will be updated relative to the current time.  For example, providing the following parameters at time 10 ms::  enable_learning(period=10., offset=5.)  would call the updating methods at times 15, 25, 35, etc...  The default behaviour is that the synaptic variables are updated at each time step. The parameters must be multiple of <code>dt</code></p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable_learning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enables learning for all the synapses of this projection.</span>

<span class="sd">    :param period: determines how often the synaptic variables will be updated.</span>
<span class="sd">    :param offset: determines the offset at which the synaptic variables will be updated relative to the current time.</span>

<span class="sd">    For example, providing the following parameters at time 10 ms::</span>

<span class="sd">        enable_learning(period=10., offset=5.)</span>

<span class="sd">    would call the updating methods at times 15, 25, 35, etc...</span>

<span class="sd">    The default behaviour is that the synaptic variables are updated at each time step. The parameters must be multiple of ``dt``</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check arguments</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">period</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">offset</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">offset</span> <span class="o">&gt;=</span> <span class="n">period</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;enable_learning(): the offset must be smaller than the period.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">period</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">offset</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;enable_learning(): if you define an offset, you have to define a period.&#39;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">_set_update</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">_set_plasticity</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">period</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">_set_update_period</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">period</span><span class="o">/</span><span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">_set_update_period</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
            <span class="n">period</span> <span class="o">=</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">offset</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">relative_offset</span> <span class="o">=</span> <span class="n">Global</span><span class="o">.</span><span class="n">get_time</span><span class="p">()</span> <span class="o">%</span> <span class="n">period</span> <span class="o">+</span> <span class="n">offset</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">_set_update_offset</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">relative_offset</span><span class="o">%</span><span class="n">period</span><span class="p">)</span><span class="o">/</span><span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">_set_update_offset</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_warning</span><span class="p">(</span><span class="s1">&#39;Enable_learning() is only possible after compile()&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.get" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.get" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Returns a list of parameters/variables values for each dendrite in the projection.</p>
<p>The list will have the same length as the number of actual dendrites (self.size), so it can be smaller than the size of the postsynaptic population. Use self.post_ranks to indice it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code></code></td>
        <td><p>the name of the parameter or variable</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of parameters/variables values for each dendrite in the projection.</span>

<span class="sd">    The list will have the same length as the number of actual dendrites (self.size), so it can be smaller than the size of the postsynaptic population. Use self.post_ranks to indice it.</span>

<span class="sd">    :param name: the name of the parameter or variable</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__getattr__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.load" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Loads the saved state of the projection by <code>Projection.save()</code>.</p>
<p>Warning: Matlab data can not be loaded.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filename</code></td>
        <td><code></code></td>
        <td><p>the file name with relative or absolute path.  Example::  proj.load('proj1.npz') proj.load('proj1.txt') proj.load('proj1.txt.gz')</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads the saved state of the projection by `Projection.save()`.</span>

<span class="sd">    Warning: Matlab data can not be loaded.</span>

<span class="sd">    :param filename: the file name with relative or absolute path.</span>

<span class="sd">    Example::</span>

<span class="sd">        proj.load(&#39;proj1.npz&#39;)</span>
<span class="sd">        proj.load(&#39;proj1.txt&#39;)</span>
<span class="sd">        proj.load(&#39;proj1.txt.gz&#39;)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">ANNarchy.core.IO</span> <span class="kn">import</span> <span class="n">_load_connectivity_data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_load_proj_data</span><span class="p">(</span><span class="n">_load_connectivity_data</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.nb_synapses_per_dendrite" class="doc doc-heading">
<code class="highlight language-python"><span class="n">nb_synapses_per_dendrite</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.nb_synapses_per_dendrite" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Total number of synapses for each dendrite as a list.</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">nb_synapses_per_dendrite</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Total number of synapses for each dendrite as a list.&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_warning</span><span class="p">(</span><span class="s2">&quot;Access &#39;nb_synapses_per_dendrite&#39; attribute of a Projection is only valid after compile()&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">nb_synapses</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.receptive_fields" class="doc doc-heading">
<code class="highlight language-python"><span class="n">receptive_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">in_post_geometry</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.receptive_fields" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Gathers all receptive fields within this projection.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>variable</code></td>
        <td><code></code></td>
        <td><p>name of the variable</p></td>
        <td><code>&#39;w&#39;</code></td>
      </tr>
      <tr>
        <td><code>in_post_geometry</code></td>
        <td><code></code></td>
        <td><p>if False, the data will be plotted as square grid. (default = True)</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">receptive_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span> <span class="o">=</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">in_post_geometry</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gathers all receptive fields within this projection.</span>

<span class="sd">    :param variable: name of the variable</span>
<span class="sd">    :param in_post_geometry: if False, the data will be plotted as square grid. (default = True)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">in_post_geometry</span><span class="p">:</span>
        <span class="n">x_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">y_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">x_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">size</span><span class="p">))</span> <span class="p">)</span>
        <span class="n">y_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">size</span><span class="p">))</span> <span class="p">)</span>


    <span class="k">def</span> <span class="nf">get_rf</span><span class="p">(</span><span class="n">rank</span><span class="p">):</span> <span class="c1"># TODO: IMPROVE</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">size</span> <span class="p">)</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span><span class="p">)):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">pre_ranks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">pre_rank</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
                <span class="n">data</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="p">,</span> <span class="s1">&#39;get_dendrite_&#39;</span><span class="o">+</span><span class="n">variable</span><span class="p">)(</span><span class="n">rank</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pre_ranks</span><span class="p">)):</span>
                    <span class="n">res</span><span class="p">[</span><span class="n">pre_ranks</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">geometry</span><span class="p">)</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="n">x_size</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span> <span class="n">y_size</span> <span class="p">):</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>  <span class="p">[</span> <span class="n">get_rf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">rank_from_coordinates</span><span class="p">(</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span> <span class="n">x_size</span> <span class="p">)</span> <span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">res</span><span class="p">,</span> <span class="n">row</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">res</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.reset" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">synapses</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.reset" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Resets all parameters and variables of the projection to the value they had before the call to compile.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>attributes</code></td>
        <td><code></code></td>
        <td><p>list of attributes (parameter or variable) which should be reinitialized. Default: all attributes.  .. note::  Only parameters and variables are reinitialized, not the connectivity structure (including the weights and delays).  The parameter <code>synapses</code> will be used in a future release to also reinitialize the connectivity structure.</p></td>
        <td><code>-1</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">synapses</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resets all parameters and variables of the projection to the value they had before the call to compile.</span>

<span class="sd">    :param attributes: list of attributes (parameter or variable) which should be reinitialized. Default: all attributes.</span>

<span class="sd">    .. note::</span>

<span class="sd">        Only parameters and variables are reinitialized, not the connectivity structure (including the weights and delays).</span>

<span class="sd">        The parameter ``synapses`` will be used in a future release to also reinitialize the connectivity structure.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">attributes</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span>

    <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
        <span class="c1"># Skip w</span>
        <span class="k">if</span> <span class="n">var</span><span class="o">==</span><span class="s1">&#39;w&#39;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="c1"># check it exists</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">var</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_warning</span><span class="p">(</span><span class="s2">&quot;Projection.reset():&quot;</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="s2">&quot;is not an attribute of the population, won&#39;t reset.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="c1"># Set the value</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">init</span><span class="p">[</span><span class="n">var</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_warning</span><span class="p">(</span><span class="s2">&quot;Projection.reset(): something went wrong while resetting&quot;</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
    <span class="c1">#Global._warning(&#39;Projection.reset(): only parameters and variables are reinitialized, not the connectivity structure (including the weights)...&#39;)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.save" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Saves all information about the projection (connectivity, current value of parameters and variables) into a file.</p>
<ul>
<li>
<p>If the file name is '.npz', the data will be saved and compressed using <code>np.savez_compressed</code> (recommended).</p>
</li>
<li>
<p>If the file name ends with '.gz', the data will be pickled into a binary file and compressed using gzip.</p>
</li>
<li>
<p>If the file name is '.mat', the data will be saved as a Matlab 7.2 file. Scipy must be installed.</p>
</li>
<li>
<p>Otherwise, the data will be pickled into a simple binary text file using pickle.</p>
</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filename</code></td>
        <td><code></code></td>
        <td><p>file name, may contain relative or absolute path.  .. warning::  The '.mat' data will not be loadable by ANNarchy, it is only for external analysis purpose.  <em>Example</em>::  proj.save('proj1.npz') proj.save('proj1.txt') proj.save('proj1.txt.gz') proj.save('proj1.mat')</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Saves all information about the projection (connectivity, current value of parameters and variables) into a file.</span>

<span class="sd">    * If the file name is &#39;.npz&#39;, the data will be saved and compressed using `np.savez_compressed` (recommended).</span>

<span class="sd">    * If the file name ends with &#39;.gz&#39;, the data will be pickled into a binary file and compressed using gzip.</span>

<span class="sd">    * If the file name is &#39;.mat&#39;, the data will be saved as a Matlab 7.2 file. Scipy must be installed.</span>

<span class="sd">    * Otherwise, the data will be pickled into a simple binary text file using pickle.</span>

<span class="sd">    :param filename: file name, may contain relative or absolute path.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The &#39;.mat&#39; data will not be loadable by ANNarchy, it is only for external analysis purpose.</span>

<span class="sd">    *Example*::</span>

<span class="sd">        proj.save(&#39;proj1.npz&#39;)</span>
<span class="sd">        proj.save(&#39;proj1.txt&#39;)</span>
<span class="sd">        proj.save(&#39;proj1.txt.gz&#39;)</span>
<span class="sd">        proj.save(&#39;proj1.mat&#39;)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">ANNarchy.core.IO</span> <span class="kn">import</span> <span class="n">_save_data</span>
    <span class="n">_save_data</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.save_connectivity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.save_connectivity" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Saves the connectivity of the projection into a file.</p>
<p>Only the connectivity matrix, the weights and delays are saved, not the other synaptic variables.</p>
<p>The generated data can be used to create a projection in another network::</p>
<div class="highlight"><pre><span></span><code>proj.connect_from_file(filename)
</code></pre></div>
<ul>
<li>
<p>If the file name is '.npz', the data will be saved and compressed using <code>np.savez_compressed</code> (recommended).</p>
</li>
<li>
<p>If the file name ends with '.gz', the data will be pickled into a binary file and compressed using gzip.</p>
</li>
<li>
<p>If the file name is '.mat', the data will be saved as a Matlab 7.2 file. Scipy must be installed.</p>
</li>
<li>
<p>Otherwise, the data will be pickled into a simple binary text file using pickle.</p>
</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filename</code></td>
        <td><code></code></td>
        <td><p>file name, may contain relative or absolute path.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Saves the connectivity of the projection into a file.</span>

<span class="sd">    Only the connectivity matrix, the weights and delays are saved, not the other synaptic variables.</span>

<span class="sd">    The generated data can be used to create a projection in another network::</span>

<span class="sd">        proj.connect_from_file(filename)</span>

<span class="sd">    * If the file name is &#39;.npz&#39;, the data will be saved and compressed using `np.savez_compressed` (recommended).</span>

<span class="sd">    * If the file name ends with &#39;.gz&#39;, the data will be pickled into a binary file and compressed using gzip.</span>

<span class="sd">    * If the file name is &#39;.mat&#39;, the data will be saved as a Matlab 7.2 file. Scipy must be installed.</span>

<span class="sd">    * Otherwise, the data will be pickled into a simple binary text file using pickle.</span>

<span class="sd">    :param filename: file name, may contain relative or absolute path.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check that the network is compiled</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;save_connectivity(): the network has not been compiled yet.&#39;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># Check if the repertory exist</span>
    <span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="s1">&#39;Creating folder&#39;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="n">extension</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">fname</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># Gathering the data</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s1">&#39;post_ranks&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">post_ranks</span><span class="p">,</span>
            <span class="s1">&#39;pre_ranks&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">pre_rank_all</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">),</span> <span class="c1"># was: [self.cyInstance.pre_rank(n) for n in range(self.size)],</span>
            <span class="c1">#&#39;pre_ranks&#39;: [self.cyInstance.pre_rank(n) for n in range(self.size)],</span>
            <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">get_w</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">),</span>
            <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">get_delay</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="p">,</span> <span class="s1">&#39;get_delay&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;max_delay&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_delay</span><span class="p">,</span>
            <span class="s1">&#39;uniform_delay&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">uniform_delay</span><span class="p">,</span>
            <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="s1">&#39;nb_synapses&#39;</span><span class="p">:</span> <span class="nb">sum</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">nb_synapses</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)])</span>
        <span class="p">}</span>

    <span class="c1"># Save the data</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">cPickle</span> <span class="k">as</span> <span class="nn">pickle</span> <span class="c1"># Python2</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">pickle</span> <span class="c1"># Python3</span>

    <span class="k">if</span> <span class="n">extension</span> <span class="o">==</span> <span class="s1">&#39;.gz&#39;</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="s2">&quot;Saving connectivity in gunzipped binary format...&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">gzip</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;gzip is not installed.&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">w_file</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">w_file</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="s1">&#39;Error while saving in gzipped binary format.&#39;</span><span class="p">)</span>
                <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="k">return</span>

    <span class="k">elif</span> <span class="n">extension</span> <span class="o">==</span> <span class="s1">&#39;.npz&#39;</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="s2">&quot;Saving connectivity in Numpy format...&quot;</span><span class="p">)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">savez_compressed</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span> <span class="p">)</span>

    <span class="k">elif</span> <span class="n">extension</span> <span class="o">==</span> <span class="s1">&#39;.mat&#39;</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="s2">&quot;Saving connectivity in Matlab format...&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;delay&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;delay&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">scipy.io</span> <span class="k">as</span> <span class="nn">sio</span>
            <span class="n">sio</span><span class="o">.</span><span class="n">savemat</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;Error while saving in Matlab format.&#39;</span><span class="p">)</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="s2">&quot;Saving connectivity in text format...&quot;</span><span class="p">)</span>
        <span class="c1"># save in Pythons pickle format</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">w_file</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">w_file</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="s1">&#39;Error while saving in text format.&#39;</span><span class="p">)</span>
                <span class="n">Global</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="k">return</span>
        <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.set" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.set" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Sets the parameters/variables values for each dendrite in the projection.</p>
<p>For parameters, you can provide:</p>
<ul>
<li>
<p>a single value, which will be the same for all dendrites.</p>
</li>
<li>
<p>a list or 1D numpy array of the same length as the number of actual dendrites (self.size).</p>
</li>
</ul>
<p>For variables, you can provide:</p>
<ul>
<li>
<p>a single value, which will be the same for all synapses of all dendrites.</p>
</li>
<li>
<p>a list or 1D numpy array of the same length as the number of actual dendrites (self.size). The synapses of each postsynaptic neuron will take the same value.</p>
</li>
</ul>
<p><strong>Warning:</strong> it is not possible to set different values to each synapse using this method. One should iterate over the dendrites::</p>
<div class="highlight"><pre><span></span><code>for dendrite in proj.dendrites:
    dendrite.w = np.ones(dendrite.size)
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code></code></td>
        <td><p>a dictionary with the name of the parameter/variable as key.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the parameters/variables values for each dendrite in the projection.</span>

<span class="sd">    For parameters, you can provide:</span>

<span class="sd">    * a single value, which will be the same for all dendrites.</span>

<span class="sd">    * a list or 1D numpy array of the same length as the number of actual dendrites (self.size).</span>

<span class="sd">    For variables, you can provide:</span>

<span class="sd">    * a single value, which will be the same for all synapses of all dendrites.</span>

<span class="sd">    * a list or 1D numpy array of the same length as the number of actual dendrites (self.size). The synapses of each postsynaptic neuron will take the same value.</span>

<span class="sd">    **Warning:** it is not possible to set different values to each synapse using this method. One should iterate over the dendrites::</span>

<span class="sd">        for dendrite in proj.dendrites:</span>
<span class="sd">            dendrite.w = np.ones(dendrite.size)</span>

<span class="sd">    :param value: a dictionary with the name of the parameter/variable as key.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.size_in_bytes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size_in_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.size_in_bytes" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Returns the size in bytes of the allocated memory on C++ side. Note that this does not reflect monitored data and that it only works after compile() was invoked.</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">size_in_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the size in bytes of the allocated memory on C++ side. Note that this does not reflect monitored data and that it only works after compile() was invoked.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">size_in_bytes</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.start_creating" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_creating</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.start_creating" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Starts creating the synapses in the projection if the synapse defines a 'creating' argument.</p>
<p>'structural_plasticity' must be set to True in setup().</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>period</code></td>
        <td><code></code></td>
        <td><p>how often creating should be evaluated (default: dt, i.e. each step)</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_creating</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Starts creating the synapses in the projection if the synapse defines a &#39;creating&#39; argument.</span>

<span class="sd">    &#39;structural_plasticity&#39; must be set to True in setup().</span>

<span class="sd">    :param period: how often creating should be evaluated (default: dt, i.e. each step)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">period</span><span class="p">:</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;Can not start creating if the network is not compiled.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;structural_plasticity&#39;</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">start_creating</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">period</span><span class="o">/</span><span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]),</span> <span class="n">Global</span><span class="o">.</span><span class="n">get_current_step</span><span class="p">())</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;The synapse does not define a &#39;creating&#39; argument.&quot;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;You must set &#39;structural_plasticity&#39; to True in setup() to start creating connections.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.start_pruning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_pruning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.start_pruning" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Starts pruning the synapses in the projection if the synapse defines a 'pruning' argument.</p>
<p>'structural_plasticity' must be set to True in setup().</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>period</code></td>
        <td><code></code></td>
        <td><p>how often pruning should be evaluated (default: dt, i.e. each step)</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_pruning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Starts pruning the synapses in the projection if the synapse defines a &#39;pruning&#39; argument.</span>

<span class="sd">    &#39;structural_plasticity&#39; must be set to True in setup().</span>

<span class="sd">    :param period: how often pruning should be evaluated (default: dt, i.e. each step)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">period</span><span class="p">:</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;Can not start pruning if the network is not compiled.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;structural_plasticity&#39;</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">start_pruning</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">period</span><span class="o">/</span><span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]),</span> <span class="n">Global</span><span class="o">.</span><span class="n">get_current_step</span><span class="p">())</span>
        <span class="k">except</span> <span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;The synapse does not define a &#39;pruning&#39; argument.&quot;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;You must set &#39;structural_plasticity&#39; to True in setup() to start pruning connections.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.stop_creating" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_creating</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.stop_creating" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Stops creating the synapses in the projection if the synapse defines a 'creating' argument.</p>
<p>'structural_plasticity' must be set to True in setup().</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_creating</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Stops creating the synapses in the projection if the synapse defines a &#39;creating&#39; argument.</span>

<span class="sd">    &#39;structural_plasticity&#39; must be set to True in setup().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;Can not stop creating if the network is not compiled.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;structural_plasticity&#39;</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">stop_creating</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;The synapse does not define a &#39;creating&#39; argument.&quot;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;You must set &#39;structural_plasticity&#39; to True in setup() to start creating connections.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.stop_pruning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_pruning</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.stop_pruning" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Stops pruning the synapses in the projection if the synapse defines a 'pruning' argument.</p>
<p>'structural_plasticity' must be set to True in setup().</p>

        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_pruning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Stops pruning the synapses in the projection if the synapse defines a &#39;pruning&#39; argument.</span>

<span class="sd">    &#39;structural_plasticity&#39; must be set to True in setup().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;Can not stop pruning if the network is not compiled.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">Global</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;structural_plasticity&#39;</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cyInstance</span><span class="o">.</span><span class="n">stop_pruning</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;The synapse does not define a &#39;pruning&#39; argument.&quot;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s2">&quot;You must set &#39;structural_plasticity&#39; to True in setup() to start pruning connections.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="ANNarchy.core.Projection.Projection.synapse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">synapse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">post</span><span class="p">)</span></code>


<a href="#ANNarchy.core.Projection.Projection.synapse" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Returns the synapse between a pre- and a post-synaptic neuron if it exists, None otherwise.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pre</code></td>
        <td><code></code></td>
        <td><p>rank of the pre-synaptic neuron.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>post</code></td>
        <td><code></code></td>
        <td><p>rank of the post-synaptic neuron.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>ANNarchy/core/Projection.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">synapse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">post</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the synapse between a pre- and a post-synaptic neuron if it exists, None otherwise.</span>

<span class="sd">    :param pre: rank of the pre-synaptic neuron.</span>
<span class="sd">    :param post: rank of the post-synaptic neuron.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pre</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">Global</span><span class="o">.</span><span class="n">_error</span><span class="p">(</span><span class="s1">&#39;Projection.synapse() only accepts ranks for the pre and post neurons.&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dendrite</span><span class="p">(</span><span class="n">post</span><span class="p">)</span><span class="o">.</span><span class="n">synapse</span><span class="p">(</span><span class="n">pre</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../SpecificPopulation/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Specific Populations
            </div>
          </div>
        </a>
      
      
        <a href="../SpecificProjection/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Specific Projections
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 Julien Vitay, Helge Ülo Dinkelbach, Fred H. Hamker
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.5cf3e710.min.js"></script>
      
        <script src="../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>