
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../_static/logo.svg">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.3.0">
    
    
      
        <title>Recording with Monitors - ANNarchy</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../../css/pandas-dataframe.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#recording-with-monitors" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ANNarchy" class="md-header__button md-logo" aria-label="ANNarchy" data-md-component="logo">
      
  <img src="../../_static/logowhite.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ANNarchy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Recording with Monitors
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://bitbucket.org/ANNarchy/ANNarchy/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M22.2 32A16 16 0 0 0 6 47.8a26.35 26.35 0 0 0 .2 2.8l67.9 412.1a21.77 21.77 0 0 0 21.3 18.2h325.7a16 16 0 0 0 16-13.4L505 50.7a16 16 0 0 0-13.2-18.3 24.58 24.58 0 0 0-2.8-.2L22.2 32zm285.9 297.8h-104l-28.1-147h157.3l-25.2 147z"/></svg>
  </div>
  <div class="md-source__repository">
    Bitbucket
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ANNarchy" class="md-nav__button md-logo" aria-label="ANNarchy" data-md-component="logo">
      
  <img src="../../_static/logowhite.svg" alt="logo">

    </a>
    ANNarchy
  </label>
  
    <div class="md-nav__source">
      
<a href="https://bitbucket.org/ANNarchy/ANNarchy/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M22.2 32A16 16 0 0 0 6 47.8a26.35 26.35 0 0 0 .2 2.8l67.9 412.1a21.77 21.77 0 0 0 21.3 18.2h325.7a16 16 0 0 0 16-13.4L505 50.7a16 16 0 0 0-13.2-18.3 24.58 24.58 0 0 0-2.8-.2L22.2 32zm285.9 297.8h-104l-28.1-147h157.3l-25.2 147z"/></svg>
  </div>
  <div class="md-source__repository">
    Bitbucket
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Manual
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Manual" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Structure/" class="md-nav__link">
        General structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Parser/" class="md-nav__link">
        Parser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../RateNeuron/" class="md-nav__link">
        Rate-coded neurons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SpikeNeuron/" class="md-nav__link">
        Spiking neurons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../RateSynapse/" class="md-nav__link">
        Rate-coded synapses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SpikeSynapse/" class="md-nav__link">
        Spiking synapses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Populations/" class="md-nav__link">
        Populations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Projections/" class="md-nav__link">
        Projections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Connector/" class="md-nav__link">
        Connectivity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Inputs/" class="md-nav__link">
        Setting inputs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Simulation/" class="md-nav__link">
        Simulation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../NumericalMethods/" class="md-nav__link">
        Equations and numerical methods
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Recording with Monitors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Recording with Monitors
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#neural-variables" class="md-nav__link">
    Neural variables
  </a>
  
    <nav class="md-nav" aria-label="Neural variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#starting-the-recordings" class="md-nav__link">
    Starting the recordings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pausingresuming-the-recordings" class="md-nav__link">
    Pausing/resuming the recordings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-the-recordings" class="md-nav__link">
    Retrieving the recordings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-case-for-spiking-neurons" class="md-nav__link">
    Special case for spiking neurons
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synaptic-variables" class="md-nav__link">
    Synaptic variables
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Saving/" class="md-nav__link">
        Saving and loading a network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Network/" class="md-nav__link">
        Parallel simulations and networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Hybrid/" class="md-nav__link">
        Hybrid networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../StructuralPlasticity/" class="md-nav__link">
        Structural plasticity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ConvolutionalNetworks/" class="md-nav__link">
        Convolution and pooling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Notebooks/" class="md-nav__link">
        Notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Reporting/" class="md-nav__link">
        Reporting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Logging/" class="md-nav__link">
        Logging with tensorboard
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="core" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/ANNarchy/" class="md-nav__link">
        Top-level methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Neuron/" class="md-nav__link">
        Neuron class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/SpecificNeuron/" class="md-nav__link">
        Built-in neuron types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Synapse/" class="md-nav__link">
        Synapse class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/SpecificSynapse/" class="md-nav__link">
        Built-in synapse types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Population/" class="md-nav__link">
        Population class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/SpecificPopulation/" class="md-nav__link">
        Specific Populations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Projection/" class="md-nav__link">
        Projection class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/SpecificProjection/" class="md-nav__link">
        Specific Projections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Dendrite/" class="md-nav__link">
        Dendrite class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Monitor/" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/RandomDistribution/" class="md-nav__link">
        Random Distributions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Network/" class="md-nav__link">
        Network class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/IO/" class="md-nav__link">
        Saving / Loading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Utilities/" class="md-nav__link">
        Reporting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Hybrid/" class="md-nav__link">
        Hybrid networks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          extensions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="extensions" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          extensions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Convolution/" class="md-nav__link">
        Convolution and Pooling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Logging/" class="md-nav__link">
        Logging with tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../API/BOLD/" class="md-nav__link">
        BOLD monitoring
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/List/" class="md-nav__link">
        List of notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/NeuralField/" class="md-nav__link">
        Neural Field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/BarLearning/" class="md-nav__link">
        Bar Learning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/MultipleNetworks/" class="md-nav__link">
        Multiple networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/StructuralPlasticity/" class="md-nav__link">
        Structural plasticity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Izhikevich/" class="md-nav__link">
        Izhikevich
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/GapJunctions/" class="md-nav__link">
        Gap junctions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/HodgkinHuxley/" class="md-nav__link">
        Hodgkin-Huxley
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/COBA/" class="md-nav__link">
        COBA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/STP/" class="md-nav__link">
        STP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/SimpleSTDP/" class="md-nav__link">
        STDP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Ramp/" class="md-nav__link">
        Ramp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Hybrid/" class="md-nav__link">
        Hybrid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Image/" class="md-nav__link">
        Image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/Webcam/" class="md-nav__link">
        Webcam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/BayesianOptimization/" class="md-nav__link">
        Bayesian optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/BasalGanglia/" class="md-nav__link">
        Logging with tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example/BoldMonitoring/" class="md-nav__link">
        BOLD monitoring
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../License/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#neural-variables" class="md-nav__link">
    Neural variables
  </a>
  
    <nav class="md-nav" aria-label="Neural variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#starting-the-recordings" class="md-nav__link">
    Starting the recordings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pausingresuming-the-recordings" class="md-nav__link">
    Pausing/resuming the recordings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-the-recordings" class="md-nav__link">
    Retrieving the recordings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-case-for-spiking-neurons" class="md-nav__link">
    Special case for spiking neurons
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synaptic-variables" class="md-nav__link">
    Synaptic variables
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://bitbucket.org/ANNarchy/ANNarchy/src/default/docs/manual/Recording.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="recording-with-monitors">Recording with Monitors<a class="headerlink" href="#recording-with-monitors" title="Permanent link">#</a></h1>
<p>Between two calls to <code>simulate()</code>, all neural and synaptic variables can
be accessed through the generated attributes. The evolution of neural or
synaptic variables during a simulation phase can be selectively recorded
using <code>Monitor</code> objects.</p>
<p>The <code>Monitor</code> object can be created at any time (before or after
<code>compile()</code>) to record any variable of a <code>Population</code>, <code>PopulationView</code>,
<code>Dendrite</code> or <code>Projection</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The value of each variable is stored for every simulation step in the
RAM. For huge networks and long simulations, this can very rapidly fill
up the available memory and lead to cache defaults, thereby degrading
strongly the performance. It is the user's responsability to record
only the needed variables and to regularly save the values in a file.</p>
</div>
<h2 id="neural-variables">Neural variables<a class="headerlink" href="#neural-variables" title="Permanent link">#</a></h2>
<p>The <code>Monitor</code> object takes four arguments:</p>
<ul>
<li><code>obj</code>: the object to monitor. It can be a population, a population
    view (a slice of a population or an individual neuron), a dendrite
    (the synapses of a projection which reach a single post-synaptic
    neuron) or a projection.</li>
<li><code>variables</code>: a (list of) variable name(s) which should be recorded.
    They should be variables of the neuron/synapse model of the
    corresponding object. Although it generally makes no sense, you can
    also record parameters of an object. By definition a parameter is
    constant throughout a simulation, but it maybe useful when tracking
    externally-set inputs, for example. You can know which attributes
    are recordable by checking the <code>attributes</code> attribute of the object
    (<code>pop.attributes</code> or <code>proj.attributes</code>).</li>
<li><code>period</code>: the period in ms at which recordings should be made. By
    default, recording is done after each simulation step (<code>dt</code>), but
    this may be overkill in long simulations.</li>
<li><code>start</code>: boolean value stating if the recordings should start
    immediately after the creation of the monitor (default), or if it
    should be started later.</li>
</ul>
<p>Some examples:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="c1"># record r in all neurons of pop</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">])</span> <span class="c1"># record r and v of all neurons</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">[:</span><span class="mi">100</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span> <span class="c1"># record r in the first 100 neurons of pop, every 10 ms</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># record r in all neurons, but do not start recording</span>
</code></pre></div>
<p>Spiking networks additionally allow to record the <code>spike</code>
events in a population (see later). You also can record conductances
(e.g. <code>g_exc</code>) and weighted sums of inputs in rate-coded networks
(<code>sum(exc)</code>) the same way:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spike&#39;</span><span class="p">,</span> <span class="s1">&#39;g_exc&#39;</span><span class="p">,</span> <span class="s1">&#39;g_inh&#39;</span><span class="p">])</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;sum(exc)&#39;</span><span class="p">,</span> <span class="s1">&#39;sum(inh)&#39;</span><span class="p">])</span>
</code></pre></div>
<h3 id="starting-the-recordings">Starting the recordings<a class="headerlink" href="#starting-the-recordings" title="Permanent link">#</a></h3>
<p>If <code>start</code> is set to <code>False</code>, recordings can be started later by calling
the <code>start()</code> method:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
</code></pre></div>
<p>In this case, only the last 100 ms of the simulation will be recorded.
Otherwise, recording would start immediately after the creation of the
object.</p>
<h3 id="pausingresuming-the-recordings">Pausing/resuming the recordings<a class="headerlink" href="#pausingresuming-the-recordings" title="Permanent link">#</a></h3>
<p>If you are interested in recording only specific periods of the
simulation, you can ause and resume recordings:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">1000.</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">resume</span><span class="p">()</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
</code></pre></div>
<p>In this example, only the first and last 100 ms of the simulation are
recorded.</p>
<h3 id="retrieving-the-recordings">Retrieving the recordings<a class="headerlink" href="#retrieving-the-recordings" title="Permanent link">#</a></h3>
<p>The recorded values are obtained through the <code>get()</code> method. If no
argument is passed, a dictionary is returned with one element per
recorded variable. If the name of a variable is passed (for example
<code>get('r')</code>), the recorded values for this variable are directly
returned:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">])</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">)</span>
</code></pre></div>
<p>In the example above, <code>data</code> is a dictionary with two keys <code>'r'</code> and
<code>'v'</code>, while <code>r</code> and <code>v</code> are directly the recorded arrays.</p>
<p>The recorded values are Numpy arrays with two dimensions, the <strong>first</strong>
one representing <strong>time</strong>, the <strong>second</strong> one representing the ranks of
the recorded neurons.</p>
<p>For example, the time course of the firing rate of the neuron of rank 15
is accessed through:</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">][:,</span> <span class="mi">15</span><span class="p">]</span>
</code></pre></div>
<p>The firing rates of the whole population after 50 ms of simulation are
accessed with:</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">][</span><span class="mi">50</span><span class="p">,</span> <span class="p">:]</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once you call <code>get()</code>, the internal data is erased, so calling it
immediately afterwards will return an empty recording data. You need to
simulate again in order to retrieve new values.</p>
</div>
<p><strong>Representation of time</strong></p>
<p>The time indices are in simulation steps (integers), not in real time
(ms). If <code>dt</code> is different from 1.0, this indices must be multiplied by
<code>dt()</code> in order to plot real times:</p>
<div class="highlight"><pre><span></span><code><span class="n">setup</span><span class="p">(</span><span class="n">dt</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="c1"># ...</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dt</span><span class="p">()</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">r</span><span class="p">[:,</span> <span class="mi">15</span><span class="p">])</span>
</code></pre></div>
<p>If recordings used the <code>pause()</code> and <code>resume()</code> methods, <code>get()</code> returns
only one array with all recordings concatenated. You can access the
steps at which the recording started or paused with the <code>times()</code>
method:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">1000.</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">resume</span><span class="p">()</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="c1"># A (200, N) Numpy array</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">times</span><span class="p">())</span> <span class="c1"># {&#39;start&#39;: [0, 1100], &#39;stop&#39;: [100, 1200]}</span>
</code></pre></div>
<h3 id="special-case-for-spiking-neurons">Special case for spiking neurons<a class="headerlink" href="#special-case-for-spiking-neurons" title="Permanent link">#</a></h3>
<p>Any variable defined in the neuron type can be recorded. An exception
for spiking neurons is the <code>spike</code> variable itself, which is never
explicitely defined in the neuron type but can be recorded:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;spike&#39;</span><span class="p">])</span>
</code></pre></div>
<p>Unlike other variables, the binary value of <code>spike</code> is not recorded at
each time step, which would lead to very sparse matrices, but only the
times (in steps, not milliseconds) at which spikes actually occur.</p>
<p>As each neuron fires differently (so each neuron will have recorded
spikes of different lengths), <code>get()</code> in this case does not return a
Numpy array, but a dictionary associating to each recorded neuron a list
of spike times:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;spike&#39;</span><span class="p">])</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">100.0</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;spike&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># [23, 76, 98]</span>
</code></pre></div>
<p>In the example above, the neuron of rank <code>0</code> has spiked 3 times (at t =
23, 76 and 98 ms if <code>dt = 1.0</code>) during the first 100 ms of the
simulation.</p>
<p><strong>Raster plots</strong></p>
<p>In order to easily display raster plots, the method <code>raster_plot()</code> is
provided to transform this data into an easily plottable format:</p>
<div class="highlight"><pre><span></span><code><span class="n">spike_times</span><span class="p">,</span> <span class="n">ranks</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">raster_plot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">spike_times</span><span class="p">,</span> <span class="n">ranks</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
</code></pre></div>
<p><code>raster_plot()</code> returns two Numpy arrays, whose length is the total
number of spikes emitted during the simulation. The first array contains
the spike times (ín ms) while the second contains the ranks of the
neurons who fired. They can be directly used t produce the raster plot
with Matplotlib.</p>
<p>An example of the use of <code>raster_plot()</code> can be seen in the
<a href="../../example/Izhikevich/">Izhikevich pulse network</a> section.</p>
<p><strong>Mean firing rate</strong></p>
<p>The mean firing rate in the population can be easily calculated using
the length of the arrays returned by <code>raster_plot</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">N</span> <span class="o">=</span> <span class="mi">1000</span> <span class="c1"># number of neurons</span>
<span class="n">duration</span> <span class="o">=</span> <span class="mf">500.</span> <span class="c1"># duration of the simulation</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;spike&#39;</span><span class="p">)</span>
<span class="n">spike_times</span><span class="p">,</span> <span class="n">ranks</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">raster_plot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean firing rate:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">spike_times</span><span class="p">)</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">/</span><span class="n">duration</span><span class="o">*</span><span class="mf">1000.</span><span class="p">,</span> <span class="s1">&#39;Hz.&#39;</span><span class="p">)</span>
</code></pre></div>
<p>For convenience, this value is returned by the <code>mean_fr()</code> method, which
has access to the number of recorded neurons and the duration of the
recordings:</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean firing rate:&#39;</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">mean_fr</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="s1">&#39;Hz.&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Firing rates</strong></p>
<p>Another useful method is <code>smoothed_rate()</code>. It allows to display the
instantaneous firing rate of each neuron based on the <code>spike</code>
recordings:</p>
<div class="highlight"><pre><span></span><code><span class="n">rates</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">smoothed_rate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">rates</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
</code></pre></div>
<p>For each neuron, it returns an array with the instantaneous firing rate
during the whole simulation. The instantaneous firing rate is computed
by inverting the <em>inter-spike interval</em> (ISI) between two consecutive
spikes, and assigning it to all simulation steps between the two spikes.</p>
<p>As this value can be quite fluctuating, a <code>smooth</code> argument in
milliseconds can be passed to <code>smoothed_rate()</code> to apply a low-pass
filter on the firing rates:</p>
<div class="highlight"><pre><span></span><code><span class="n">rates</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">smoothed_rate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">smooth</span><span class="o">=</span><span class="mf">200.0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">rates</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
</code></pre></div>
<p>A smoothed firing rate for the whole population is also accessible
through <code>population_rate()</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">fr</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">population_rate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">smooth</span><span class="o">=</span><span class="mf">200.0</span><span class="p">)</span>
</code></pre></div>
<p><strong>Histogram</strong></p>
<p><code>histogram()</code> allows to count the spikes emitted in the whole population
during successive bins of the recording duration:</p>
<div class="highlight"><pre><span></span><code><span class="n">histo</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">histo</span><span class="p">)</span>
</code></pre></div>
<p><code>bins</code> represents the size of each bin, here 1 ms. By default, the bin
size is <code>dt</code>.</p>
<p><strong>Note :</strong> the methods to analyse the spike patterns are also available
outside the monitors. For example if you save the spike recordings into
a file using numpy:</p>
<div class="highlight"><pre><span></span><code><span class="n">spikes</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;spike&#39;</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;spikes.npy&#39;</span><span class="p">,</span> <span class="n">spikes</span><span class="p">)</span>
</code></pre></div>
<p>you can analyze them in a separate file like this:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load the data</span>
<span class="n">spikes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;spikes.npy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">()</span>

<span class="c1"># Compute the raster plot</span>
<span class="n">t</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">raster_plot</span><span class="p">(</span><span class="n">spikes</span><span class="p">)</span>

<span class="c1"># Compute the population firing rate</span>
<span class="n">fr</span> <span class="o">=</span> <span class="n">histogram</span><span class="p">(</span><span class="n">spikes</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>

<span class="c1"># Smoothed firing rate</span>
<span class="n">sr</span> <span class="o">=</span> <span class="n">smoothed_rate</span><span class="p">(</span><span class="n">spikes</span><span class="p">,</span> <span class="n">smooth</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>

<span class="c1"># Population firing rate</span>
<span class="n">pr</span> <span class="o">=</span> <span class="n">population_rate</span><span class="p">(</span><span class="n">spikes</span><span class="p">,</span> <span class="n">smooth</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>

<span class="c1"># Global firing rate</span>
<span class="n">mfr</span> <span class="o">=</span> <span class="n">mean_fr</span><span class="p">(</span><span class="n">spikes</span><span class="p">)</span>
</code></pre></div>
<h2 id="synaptic-variables">Synaptic variables<a class="headerlink" href="#synaptic-variables" title="Permanent link">#</a></h2>
<p>Recording of synaptic variables such as weights <code>w</code> during learning is
also possible using the monitor object. However, it can very easily lead
to important memory consumption. Let's suppose we have a network
composed of two populations of 1000 neurons each, fully connected: each
neuron of the second population receives 1000 synapses. This makes a
total of 1 million synapses for the projection and, supposing the
weights <code>w</code> use the double floating precision, requires 4 MB of memory.
If you record <code>w</code> during a simulation of 1 second (1000 steps, with
<code>dt=1.0</code>), the total added memory consumption would already be around
4GB.</p>
<p>To avoid fast memory fills, you should either 1) record the projection
variables infrequently (by setting the <code>period</code> argument of the
Monitor), or 2) selectively record particular dendrites. The
corresponding dendrite should be simply passed to the monitor:</p>
<div class="highlight"><pre><span></span><code><span class="n">dendrite</span> <span class="o">=</span> <span class="n">proj</span><span class="o">.</span><span class="n">dendrite</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="c1"># or simply proj[12]</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">dendrite</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">1000.0</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
</code></pre></div>
<p>The <code>Monitor</code> object has the same <code>start()</code>, <code>pause()</code>, <code>resume()</code> and
<code>get()</code> methods as for populations. <code>get()</code> returns also 2D Numpy
arrays, the first index being time, the second being the index of the
synapse. To know to which pre-synaptic neuron it corresponds, use the
<code>pre_ranks</code> attribute of the dendrite:</p>
<div class="highlight"><pre><span></span><code><span class="n">dendrite</span><span class="o">.</span><span class="n">pre_ranks</span> <span class="c1"># [0, 3, 12, ..]</span>
</code></pre></div>
<p>To record a complete projection, simply pass it to the Monitor:</p>
<div class="highlight"><pre><span></span><code><span class="n">m</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="mf">1000.</span><span class="p">)</span>
<span class="n">simulate</span><span class="p">(</span><span class="mf">10000.0</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
</code></pre></div>
<p>One last time, do <strong>not</strong> record all weights of a projection at each
time step!</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Recording synaptic variables with CUDA is not available.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../NumericalMethods/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Equations and numerical methods" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Equations and numerical methods
            </div>
          </div>
        </a>
      
      
        
        <a href="../Saving/" class="md-footer__link md-footer__link--next" aria-label="Next: Saving and loading a network" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Saving and loading a network
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 Julien Vitay, Helge Ülo Dinkelbach, Fred H. Hamker
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.f8263e09.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
        <script src="../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>